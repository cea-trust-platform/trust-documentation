<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.1" xml:lang="en-US">
  <compounddef id="communications_8cpp" kind="file" language="C++">
    <compoundname>communications.cpp</compoundname>
    <includes refid="InOutCommBuffers_8h" local="no">InOutCommBuffers.h</includes>
    <includes refid="communications_8h" local="no">communications.h</includes>
    <includes refid="Schema__Comm_8h" local="no">Schema_Comm.h</includes>
    <includes refid="TRUSTArrays_8h" local="no">TRUSTArrays.h</includes>
    <includes refid="TRUSTTabs_8h" local="no">TRUSTTabs.h</includes>
    <includes refid="TRUSTTab_8h" local="no">TRUSTTab.h</includes>
    <includes refid="Motcle_8h" local="no">Motcle.h</includes>
      <sectiondef kind="func">
      <memberdef kind="function" id="communications_8cpp_1a25174b69bc837d68b2ccc944a78277bf" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void assert_parallel</definition>
        <argsstring>(const Objet_U &amp;obj)</argsstring>
        <name>assert_parallel</name>
        <param>
          <type>const <ref refid="classObjet__U" kindref="compound">Objet_U</ref> &amp;</type>
          <declname>obj</declname>
        </param>
        <briefdescription>
<para>en mode comm_check_enabled(), verifie que le parametre a la meme valeur sur tous les processeurs. </para>
        </briefdescription>
        <detaileddescription>
<para>Ne fonctionne pas pour tous les types ! Pour l&apos;instant ok pour <ref refid="classNoms" kindref="compound">Noms</ref>, <ref refid="classMotcles" kindref="compound">Motcles</ref> et tableaux. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" line="518" column="6" bodyfile="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" bodystart="518" bodyend="532"/>
      </memberdef>
      <memberdef kind="function" id="communications_8cpp_1a0b0b3650e31480f7898c6ccb4241683c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool comm_check_enabled</definition>
        <argsstring>()</argsstring>
        <name>comm_check_enabled</name>
        <briefdescription>
<para>renvoie le drapeau <ref refid="classComm__Group_1a0f230fe65c9f52fd2a168a1ea70e7b15" kindref="member">Comm_Group::check_enabled()</ref>. </para>
        </briefdescription>
        <detaileddescription>
<para>Ce drapeau indique si le code tourne en mode DEBUG du parallele. Dans ce cas, des communications supplementaires ont lieu pour verifier la coherence du parallelisme et le mode de communication est force en mode synchrone. Cette methode permet de tester le drapeau, et s&apos;il est mis de realiser des verifications supplementaires </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" line="409" column="6" bodyfile="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" bodystart="409" bodyend="409"/>
      </memberdef>
      <memberdef kind="function" id="communications_8cpp_1a79c3814bd1559c34ef17a64ae9c5a8be" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <templateparamlist>
          <param>
            <type>class T</type>
          </param>
        </templateparamlist>
        <type>int</type>
        <definition>int compare</definition>
        <argsstring>(const Objet_U &amp;a, const Objet_U &amp;b, int &amp;erreur)</argsstring>
        <name>compare</name>
        <param>
          <type>const <ref refid="classObjet__U" kindref="compound">Objet_U</ref> &amp;</type>
          <declname>a</declname>
        </param>
        <param>
          <type>const <ref refid="classObjet__U" kindref="compound">Objet_U</ref> &amp;</type>
          <declname>b</declname>
        </param>
        <param>
          <type>int &amp;</type>
          <declname>erreur</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" line="445" column="17" bodyfile="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" bodystart="445" bodyend="459"/>
      </memberdef>
      <memberdef kind="function" id="communications_8cpp_1ab159afa86809957861976ef8152d9d52" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool envoyer</definition>
        <argsstring>(const Objet_U &amp;t, int cible, int canal)</argsstring>
        <name>envoyer</name>
        <param>
          <type>const <ref refid="classObjet__U" kindref="compound">Objet_U</ref> &amp;</type>
          <declname>t</declname>
        </param>
        <param>
          <type>int</type>
          <declname>cible</declname>
        </param>
        <param>
          <type>int</type>
          <declname>canal</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" line="159" column="6" bodyfile="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" bodystart="159" bodyend="162"/>
      </memberdef>
      <memberdef kind="function" id="communications_8cpp_1af3057996aaeeca24f2d446d14eda05eb" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool envoyer</definition>
        <argsstring>(const Objet_U &amp;t, int source, int cible, int canal)</argsstring>
        <name>envoyer</name>
        <param>
          <type>const <ref refid="classObjet__U" kindref="compound">Objet_U</ref> &amp;</type>
          <declname>t</declname>
        </param>
        <param>
          <type>int</type>
          <declname>source</declname>
        </param>
        <param>
          <type>int</type>
          <declname>cible</declname>
        </param>
        <param>
          <type>int</type>
          <declname>canal</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" line="154" column="6" bodyfile="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" bodystart="154" bodyend="157"/>
      </memberdef>
      <memberdef kind="function" id="communications_8cpp_1a7c93835f07b2f35ebb24c69d157d797d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void envoyer_all_gather</definition>
        <argsstring>(const DoubleTab &amp;src, DoubleTab &amp;dest)</argsstring>
        <name>envoyer_all_gather</name>
        <param>
          <type>const <ref refid="classTRUSTTab" kindref="compound">DoubleTab</ref> &amp;</type>
          <declname>src</declname>
        </param>
        <param>
          <type><ref refid="classTRUSTTab" kindref="compound">DoubleTab</ref> &amp;</type>
          <declname>dest</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" line="369" column="6" bodyfile="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" bodystart="369" bodyend="372"/>
      </memberdef>
      <memberdef kind="function" id="communications_8cpp_1aabae6b129055a40d087b11dc3dd614e4" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void envoyer_all_gather</definition>
        <argsstring>(const IntTab &amp;src, IntTab &amp;dest)</argsstring>
        <name>envoyer_all_gather</name>
        <param>
          <type>const <ref refid="classTRUSTTab" kindref="compound">IntTab</ref> &amp;</type>
          <declname>src</declname>
        </param>
        <param>
          <type><ref refid="classTRUSTTab" kindref="compound">IntTab</ref> &amp;</type>
          <declname>dest</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" line="374" column="6" bodyfile="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" bodystart="374" bodyend="377"/>
      </memberdef>
      <memberdef kind="function" id="communications_8cpp_1a5196f554621a951e5362eaad05ef8528" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <templateparamlist>
          <param>
            <type>typename T</type>
          </param>
        </templateparamlist>
        <type>void</type>
        <definition>void envoyer_all_gather_</definition>
        <argsstring>(const TRUSTTab&lt; T &gt; &amp;src, TRUSTTab&lt; T &gt; &amp;dest)</argsstring>
        <name>envoyer_all_gather_</name>
        <param>
          <type>const <ref refid="classTRUSTTab" kindref="compound">TRUSTTab</ref>&lt; T &gt; &amp;</type>
          <declname>src</declname>
        </param>
        <param>
          <type><ref refid="classTRUSTTab" kindref="compound">TRUSTTab</ref>&lt; T &gt; &amp;</type>
          <declname>dest</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" line="316" column="6" bodyfile="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" bodystart="316" bodyend="335"/>
      </memberdef>
      <memberdef kind="function" id="communications_8cpp_1acfdec81c0548c3c8270f1b3ebb8dcc49" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void envoyer_all_gatherv</definition>
        <argsstring>(const DoubleTab &amp;src, DoubleTab &amp;dest, const IntTab &amp;recv_size)</argsstring>
        <name>envoyer_all_gatherv</name>
        <param>
          <type>const <ref refid="classTRUSTTab" kindref="compound">DoubleTab</ref> &amp;</type>
          <declname>src</declname>
        </param>
        <param>
          <type><ref refid="classTRUSTTab" kindref="compound">DoubleTab</ref> &amp;</type>
          <declname>dest</declname>
        </param>
        <param>
          <type>const <ref refid="classTRUSTTab" kindref="compound">IntTab</ref> &amp;</type>
          <declname>recv_size</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" line="379" column="6" bodyfile="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" bodystart="379" bodyend="400"/>
      </memberdef>
      <memberdef kind="function" id="communications_8cpp_1a9e6627b879442a57e8cccbe801c83eab" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void envoyer_all_to_all</definition>
        <argsstring>(const DoubleTab &amp;src, DoubleTab &amp;dest)</argsstring>
        <name>envoyer_all_to_all</name>
        <param>
          <type>const <ref refid="classTRUSTTab" kindref="compound">DoubleTab</ref> &amp;</type>
          <declname>src</declname>
        </param>
        <param>
          <type><ref refid="classTRUSTTab" kindref="compound">DoubleTab</ref> &amp;</type>
          <declname>dest</declname>
        </param>
        <briefdescription>
<para>On suppose que les tableaux en entree et en sortie sont tels que dimension(0)==nproc() et que les autres dimensions. </para>
        </briefdescription>
        <detaileddescription>
<para>sont identiques. On envoie src(0, i, j, ...) au proc 0, src(0, i, j, ...) au proc 1, etc... la valeur recue du processeur 0 et mise dans dest(0, i, j, ...) , processeur 1 dans dest(1, i, j, ...) , etc... Il est autorise d&apos;appeler la fonction avec le meme tableau src et dest. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" line="296" column="6" bodyfile="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" bodystart="296" bodyend="314"/>
      </memberdef>
      <memberdef kind="function" id="communications_8cpp_1a985b9663ac7660752e477e6f7e7fb883" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool envoyer_all_to_all</definition>
        <argsstring>(const TRUST_Vector&lt; TRUSTArray&lt; int &gt;&gt; &amp;src, TRUST_Vector&lt; TRUSTArray&lt; int &gt;&gt; &amp;dest)</argsstring>
        <name>envoyer_all_to_all</name>
        <param>
          <type>const <ref refid="classTRUST__Vector" kindref="compound">TRUST_Vector</ref>&lt; <ref refid="classTRUSTArray" kindref="compound">TRUSTArray</ref>&lt; int &gt;&gt; &amp;</type>
          <declname>src</declname>
        </param>
        <param>
          <type><ref refid="classTRUST__Vector" kindref="compound">TRUST_Vector</ref>&lt; <ref refid="classTRUSTArray" kindref="compound">TRUSTArray</ref>&lt; int &gt;&gt; &amp;</type>
          <declname>dest</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" line="213" column="6" bodyfile="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" bodystart="213" bodyend="216"/>
      </memberdef>
      <memberdef kind="function" id="communications_8cpp_1a319afb62e218924f8f0c3058155e23c3" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool envoyer_all_to_all</definition>
        <argsstring>(const TRUST_Vector&lt; TRUSTTab&lt; double &gt;&gt; &amp;src, TRUST_Vector&lt; TRUSTTab&lt; double &gt;&gt; &amp;dest)</argsstring>
        <name>envoyer_all_to_all</name>
        <param>
          <type>const <ref refid="classTRUST__Vector" kindref="compound">TRUST_Vector</ref>&lt; <ref refid="classTRUSTTab" kindref="compound">TRUSTTab</ref>&lt; double &gt;&gt; &amp;</type>
          <declname>src</declname>
        </param>
        <param>
          <type><ref refid="classTRUST__Vector" kindref="compound">TRUST_Vector</ref>&lt; <ref refid="classTRUSTTab" kindref="compound">TRUSTTab</ref>&lt; double &gt;&gt; &amp;</type>
          <declname>dest</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" line="208" column="6" bodyfile="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" bodystart="208" bodyend="211"/>
      </memberdef>
      <memberdef kind="function" id="communications_8cpp_1a0ccd859bab8306a1b4f0008b6a2d303c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool envoyer_all_to_all</definition>
        <argsstring>(std::vector&lt; long long &gt; &amp;src, std::vector&lt; long long &gt; &amp;dest)</argsstring>
        <name>envoyer_all_to_all</name>
        <param>
          <type>std::vector&lt; long long &gt; &amp;</type>
          <declname>src</declname>
        </param>
        <param>
          <type>std::vector&lt; long long &gt; &amp;</type>
          <declname>dest</declname>
        </param>
        <briefdescription>
<para>On suppose que les tableaux en entree et en sortie sont de taille nproc() . </para>
        </briefdescription>
        <detaileddescription>
<para>On envoie src[0] au proc 0, src[1] au proc 1, etc... la valeur recue du processeur 0 et mise dans dest[0], processeur 1 dans dest[1], etc... Il est autorise d&apos;appeler la fonction avec le meme tableau src et dest. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" line="233" column="6" bodyfile="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" bodystart="233" bodyend="249"/>
      </memberdef>
      <memberdef kind="function" id="communications_8cpp_1a5814236770f58ae184982a2b9aba7d38" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <templateparamlist>
          <param>
            <type>typename T</type>
          </param>
        </templateparamlist>
        <type>bool</type>
        <definition>bool envoyer_all_to_all_</definition>
        <argsstring>(const T &amp;src, T &amp;dest)</argsstring>
        <name>envoyer_all_to_all_</name>
        <param>
          <type>const T &amp;</type>
          <declname>src</declname>
        </param>
        <param>
          <type>T &amp;</type>
          <declname>dest</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" line="181" column="6" bodyfile="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" bodystart="181" bodyend="206"/>
      </memberdef>
      <memberdef kind="function" id="communications_8cpp_1a1d2534a62d706f7fd053d5b048b12680" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool envoyer_broadcast</definition>
        <argsstring>(Objet_U &amp;t, int source)</argsstring>
        <name>envoyer_broadcast</name>
        <param>
          <type><ref refid="classObjet__U" kindref="compound">Objet_U</ref> &amp;</type>
          <declname>t</declname>
        </param>
        <param>
          <type>int</type>
          <declname>source</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" line="174" column="6" bodyfile="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" bodystart="174" bodyend="177"/>
      </memberdef>
      <memberdef kind="function" id="communications_8cpp_1aaedf37e94a8273ecb5092e4583ba57b2" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <templateparamlist>
          <param>
            <type>typename T</type>
          </param>
        </templateparamlist>
        <type>bool</type>
        <definition>bool envoyer_broadcast_buffered_</definition>
        <argsstring>(T &amp;objet, int source)</argsstring>
        <name>envoyer_broadcast_buffered_</name>
        <param>
          <type>T &amp;</type>
          <declname>objet</declname>
        </param>
        <param>
          <type>int</type>
          <declname>source</declname>
        </param>
        <briefdescription>
<para>Broadcast de l&apos;objet par le processeur source a tous les autres processeurs. </para>
        </briefdescription>
        <detaileddescription>
<para>Fonctionne pour des types complexes supportes par <ref refid="classEntree" kindref="compound">Entree</ref> ou <ref refid="classSortie" kindref="compound">Sortie</ref>. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" line="128" column="6" bodyfile="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" bodystart="128" bodyend="152"/>
      </memberdef>
      <memberdef kind="function" id="communications_8cpp_1a48f407a4f380c8a50ed1e08ca5001f70" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <templateparamlist>
          <param>
            <type>typename T</type>
          </param>
        </templateparamlist>
        <type>bool</type>
        <definition>bool envoyer_buffered_</definition>
        <argsstring>(const T &amp;objet, int source, int cible, int canal)</argsstring>
        <name>envoyer_buffered_</name>
        <param>
          <type>const T &amp;</type>
          <declname>objet</declname>
        </param>
        <param>
          <type>int</type>
          <declname>source</declname>
        </param>
        <param>
          <type>int</type>
          <declname>cible</declname>
        </param>
        <param>
          <type>int</type>
          <declname>canal</declname>
        </param>
        <briefdescription>
<para>Envoi de messages point-to-point synchrone entre la source et la cible. </para>
        </briefdescription>
        <detaileddescription>
<para>La fonction envoyer se termine au plus tard lorsque le message a ete recu par l&apos;instruction &quot;recevoir&quot; correspondante et l&apos;envoi peut etre blocant (le blocage est force en mode debug, selon <ref refid="classComm__Group_1a0f230fe65c9f52fd2a168a1ea70e7b15" kindref="member">Comm_Group::check_enabled()</ref> ) Ces communications utilisent <ref refid="classComm__Group_1a5489eba2c9ba6099899f96e2621131f6" kindref="member">Comm_Group::send()</ref> et <ref refid="classComm__Group_1ae3622cd7a58e3dfeba7bf9496c298d0f" kindref="member">Comm_Group::recv()</ref> Exemples d&apos;utilisations possibles: 1) communication point-a-point (processeur 2 vers processeur 5) if (me() == 2) envoyer(objet, 5, canal); else if (me() == 5) recevoir(objet, 2, canal); ou de facon equivalente : envoyer(objet, 2, 5, canal); // ne fait rien sur les processeurs autres que 2 recevoir(objet, 2, 5, canal); // ne fait rien sur les processeurs autres que 5 2) gather : le processeur 0 recupere les donnees de l&apos;objet t de tout le monde envoyer(t, me(), 0, canal); // Tout le monde envoie au processeur 0, sur le maitre, ne fait rien if (je_suis_maitre()) for (i = 0; i &lt; nproc(); i++) { recevoir(t, 0, i; canal); // Si i==0, ne fait rien. ... faire quelque chose avec t } 3) broadcast : le processeur 0 envoie l&apos;objet a tous les autres processeurs Il n&apos;est pas necessaire de faire le test &quot;if (je_suis_maitre())&quot; envoyer(objet, 0, -1, canal); // Les processeurs autres que 0 ignorent l&apos;appel recevoir(objet, 0, -1, canal);// Le processeur 0 ignore l&apos;appel Il vaut mieux utiliser envoyer_broadcast() pour cet usage. 4) broadcast : ecriture equivalente if (je_suis_maitre()) envoyer(objet, -1, canal); // Emission par le maitre a tous les processeurs, sauf lui-meme else recevoir(objet, 0, canal); // Reception d&apos;un message du processeur maitre Il vaut mieux utiliser envoyer_broadcast() pour cet usage. Dans l&apos;implementation de envoyer_, on encapsule l&apos;objet recu dans un buffer et on envoie le buffer. Ca marche donc pour les types complexes pourvu que <ref refid="classEntree" kindref="compound">Entree</ref> et <ref refid="classSortie" kindref="compound">Sortie</ref> sachent lire et ecrire l&apos;objet. Chaque envoi necessite l&apos;envoi de deux messages : d&apos;abord la taille du buffer, puis le contenu. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" line="63" column="6" bodyfile="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" bodystart="63" bodyend="95"/>
      </memberdef>
      <memberdef kind="function" id="communications_8cpp_1ae6bc44c15d0023d98ae832c1585d0f6f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void envoyer_gather</definition>
        <argsstring>(const DoubleTab &amp;src, DoubleTab &amp;dest, int root)</argsstring>
        <name>envoyer_gather</name>
        <param>
          <type>const <ref refid="classTRUSTTab" kindref="compound">DoubleTab</ref> &amp;</type>
          <declname>src</declname>
        </param>
        <param>
          <type><ref refid="classTRUSTTab" kindref="compound">DoubleTab</ref> &amp;</type>
          <declname>dest</declname>
        </param>
        <param>
          <type>int</type>
          <declname>root</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" line="359" column="6" bodyfile="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" bodystart="359" bodyend="362"/>
      </memberdef>
      <memberdef kind="function" id="communications_8cpp_1a9bb646eaceff76b5bfefc3b775b940c2" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void envoyer_gather</definition>
        <argsstring>(const IntTab &amp;src, IntTab &amp;dest, int root)</argsstring>
        <name>envoyer_gather</name>
        <param>
          <type>const <ref refid="classTRUSTTab" kindref="compound">IntTab</ref> &amp;</type>
          <declname>src</declname>
        </param>
        <param>
          <type><ref refid="classTRUSTTab" kindref="compound">IntTab</ref> &amp;</type>
          <declname>dest</declname>
        </param>
        <param>
          <type>int</type>
          <declname>root</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" line="364" column="6" bodyfile="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" bodystart="364" bodyend="367"/>
      </memberdef>
      <memberdef kind="function" id="communications_8cpp_1a79f37aaf630e1880fcb2afe7bacadf44" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <templateparamlist>
          <param>
            <type>typename T</type>
          </param>
        </templateparamlist>
        <type>void</type>
        <definition>void envoyer_gather_</definition>
        <argsstring>(const TRUSTTab&lt; T &gt; &amp;src, TRUSTTab&lt; T &gt; &amp;dest, int root)</argsstring>
        <name>envoyer_gather_</name>
        <param>
          <type>const <ref refid="classTRUSTTab" kindref="compound">TRUSTTab</ref>&lt; T &gt; &amp;</type>
          <declname>src</declname>
        </param>
        <param>
          <type><ref refid="classTRUSTTab" kindref="compound">TRUSTTab</ref>&lt; T &gt; &amp;</type>
          <declname>dest</declname>
        </param>
        <param>
          <type>int</type>
          <declname>root</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" line="338" column="6" bodyfile="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" bodystart="338" bodyend="357"/>
      </memberdef>
      <memberdef kind="function" id="communications_8cpp_1a7e8062db6f3f9e27282cb7dc7682b077" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool is_parallel_object</definition>
        <argsstring>(const double x)</argsstring>
        <name>is_parallel_object</name>
        <param>
          <type>const double</type>
          <declname>x</declname>
        </param>
        <briefdescription>
<para>renvoie 1 (sur tous les procs) si le parametre est identique sur tous les procs, sinon renvoie 0 (sur tous les procs) </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" line="433" column="6" bodyfile="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" bodystart="433" bodyend="443"/>
      </memberdef>
      <memberdef kind="function" id="communications_8cpp_1a0e3ae434d461a1daaf89fd8fdbec06d1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool is_parallel_object</definition>
        <argsstring>(const int x)</argsstring>
        <name>is_parallel_object</name>
        <param>
          <type>const int</type>
          <declname>x</declname>
        </param>
        <briefdescription>
<para>renvoie 1 (sur tous les procs) si le parametre est identique sur tous les procs, sinon renvoie 0 (sur tous les procs) </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" line="414" column="6" bodyfile="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" bodystart="414" bodyend="419"/>
      </memberdef>
      <memberdef kind="function" id="communications_8cpp_1a532052ef7dd6c57765ac6ce59bc077a5" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool is_parallel_object</definition>
        <argsstring>(const Objet_U &amp;obj)</argsstring>
        <name>is_parallel_object</name>
        <param>
          <type>const <ref refid="classObjet__U" kindref="compound">Objet_U</ref> &amp;</type>
          <declname>obj</declname>
        </param>
        <briefdescription>
<para>renvoie 1 (sur tous les procs) si le parametre est identique sur tous les procs, sinon renvoie 0 (sur tous les procs) </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" line="464" column="6" bodyfile="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" bodystart="464" bodyend="511"/>
      </memberdef>
      <memberdef kind="function" id="communications_8cpp_1a62b7dccac5a6ed88ed5c62460dfe6347" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool recevoir</definition>
        <argsstring>(Objet_U &amp;t, int source, int canal)</argsstring>
        <name>recevoir</name>
        <param>
          <type><ref refid="classObjet__U" kindref="compound">Objet_U</ref> &amp;</type>
          <declname>t</declname>
        </param>
        <param>
          <type>int</type>
          <declname>source</declname>
        </param>
        <param>
          <type>int</type>
          <declname>canal</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" line="169" column="6" bodyfile="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" bodystart="169" bodyend="172"/>
      </memberdef>
      <memberdef kind="function" id="communications_8cpp_1a8c96f751e9e7f0a7c4c857f6b0847340" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool recevoir</definition>
        <argsstring>(Objet_U &amp;t, int source, int cible, int canal)</argsstring>
        <name>recevoir</name>
        <param>
          <type><ref refid="classObjet__U" kindref="compound">Objet_U</ref> &amp;</type>
          <declname>t</declname>
        </param>
        <param>
          <type>int</type>
          <declname>source</declname>
        </param>
        <param>
          <type>int</type>
          <declname>cible</declname>
        </param>
        <param>
          <type>int</type>
          <declname>canal</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" line="164" column="6" bodyfile="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" bodystart="164" bodyend="167"/>
      </memberdef>
      <memberdef kind="function" id="communications_8cpp_1a5a5bdc4d47f757d1af6a9133182cde9a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <templateparamlist>
          <param>
            <type>typename T</type>
          </param>
        </templateparamlist>
        <type>bool</type>
        <definition>bool recevoir_buffered_</definition>
        <argsstring>(T &amp;objet, int source, int cible, int canal)</argsstring>
        <name>recevoir_buffered_</name>
        <param>
          <type>T &amp;</type>
          <declname>objet</declname>
        </param>
        <param>
          <type>int</type>
          <declname>source</declname>
        </param>
        <param>
          <type>int</type>
          <declname>cible</declname>
        </param>
        <param>
          <type>int</type>
          <declname>canal</declname>
        </param>
        <briefdescription>
<para>Reception d&apos;un message en provenance du processeur source. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" line="101" column="6" bodyfile="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" bodystart="101" bodyend="120"/>
      </memberdef>
      <memberdef kind="function" id="communications_8cpp_1a43ecb09dc5569f04a28688f30cc12dba" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool reverse_send_recv_pe_list</definition>
        <argsstring>(const ArrOfInt &amp;src_list, ArrOfInt &amp;dest_list)</argsstring>
        <name>reverse_send_recv_pe_list</name>
        <param>
          <type>const <ref refid="classTRUSTArray" kindref="compound">ArrOfInt</ref> &amp;</type>
          <declname>src_list</declname>
        </param>
        <param>
          <type><ref refid="classTRUSTArray" kindref="compound">ArrOfInt</ref> &amp;</type>
          <declname>dest_list</declname>
        </param>
        <briefdescription>
<para>Calcule la transposee d&apos;une liste de processeurs: On construit le tableau dest_list tel que: </para>
        </briefdescription>
        <detaileddescription>
<para><verbatim>   x est dans la liste src_list sur le processeur y
 si et seulement si
   y est dans la liste dest_list sur le processeur x
</verbatim> En pratique, cette fonction permet de calculer la liste des processeurs qui recoivent des messages si on connait la liste des processeurs qui envoient des messages, et reciproquement.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>(src_list)</parametername>
</parameternamelist>
<parameterdescription>
<para>Une liste de numeros de PEs presents dans ce groupe de comm. Ce sont les indices des pes dans le groupe courant (0 &lt;= pe &lt; nproc_) </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>(dest_list)</parametername>
</parameternamelist>
<parameterdescription>
<para>Le tableau ou stocker le resultat. On le met a la bonne taille et on le remplit. Les numeros de PEs sont mis dans l&apos;ordre croissant. Ce sont les indices des pes dans le groupe courant (0 &lt;= pe &lt; nproc_) </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" line="263" column="6" bodyfile="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp" bodystart="263" bodyend="286"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/****************************************************************************</highlight></codeline>
<codeline lineno="2"><highlight class="comment">*<sp/>Copyright<sp/>(c)<sp/>2025,<sp/>CEA</highlight></codeline>
<codeline lineno="3"><highlight class="comment">*<sp/>All<sp/>rights<sp/>reserved.</highlight></codeline>
<codeline lineno="4"><highlight class="comment">*</highlight></codeline>
<codeline lineno="5"><highlight class="comment">*<sp/>Redistribution<sp/>and<sp/>use<sp/>in<sp/>source<sp/>and<sp/>binary<sp/>forms,<sp/>with<sp/>or<sp/>without<sp/>modification,<sp/>are<sp/>permitted<sp/>provided<sp/>that<sp/>the<sp/>following<sp/>conditions<sp/>are<sp/>met:</highlight></codeline>
<codeline lineno="6"><highlight class="comment">*<sp/>1.<sp/>Redistributions<sp/>of<sp/>source<sp/>code<sp/>must<sp/>retain<sp/>the<sp/>above<sp/>copyright<sp/>notice,<sp/>this<sp/>list<sp/>of<sp/>conditions<sp/>and<sp/>the<sp/>following<sp/>disclaimer.</highlight></codeline>
<codeline lineno="7"><highlight class="comment">*<sp/>2.<sp/>Redistributions<sp/>in<sp/>binary<sp/>form<sp/>must<sp/>reproduce<sp/>the<sp/>above<sp/>copyright<sp/>notice,<sp/>this<sp/>list<sp/>of<sp/>conditions<sp/>and<sp/>the<sp/>following<sp/>disclaimer<sp/>in<sp/>the<sp/>documentation<sp/>and/or<sp/>other<sp/>materials<sp/>provided<sp/>with<sp/>the<sp/>distribution.</highlight></codeline>
<codeline lineno="8"><highlight class="comment">*<sp/>3.<sp/>Neither<sp/>the<sp/>name<sp/>of<sp/>the<sp/>copyright<sp/>holder<sp/>nor<sp/>the<sp/>names<sp/>of<sp/>its<sp/>contributors<sp/>may<sp/>be<sp/>used<sp/>to<sp/>endorse<sp/>or<sp/>promote<sp/>products<sp/>derived<sp/>from<sp/>this<sp/>software<sp/>without<sp/>specific<sp/>prior<sp/>written<sp/>permission.</highlight></codeline>
<codeline lineno="9"><highlight class="comment">*</highlight></codeline>
<codeline lineno="10"><highlight class="comment">*<sp/>THIS<sp/>SOFTWARE<sp/>IS<sp/>PROVIDED<sp/>BY<sp/>THE<sp/>COPYRIGHT<sp/>HOLDERS<sp/>AND<sp/>CONTRIBUTORS<sp/>&quot;AS<sp/>IS&quot;<sp/>AND<sp/>ANY<sp/>EXPRESS<sp/>OR<sp/>IMPLIED<sp/>WARRANTIES,<sp/>INCLUDING,<sp/>BUT<sp/>NOT<sp/>LIMITED<sp/>TO,<sp/>THE<sp/>IMPLIED<sp/>WARRANTIES<sp/>OF<sp/>MERCHANTABILITY<sp/>AND<sp/>FITNESS<sp/>FOR<sp/>A<sp/>PARTICULAR<sp/>PURPOSE<sp/>ARE<sp/>DISCLAIMED.</highlight></codeline>
<codeline lineno="11"><highlight class="comment">*<sp/>IN<sp/>NO<sp/>EVENT<sp/>SHALL<sp/>THE<sp/>COPYRIGHT<sp/>HOLDER<sp/>OR<sp/>CONTRIBUTORS<sp/>BE<sp/>LIABLE<sp/>FOR<sp/>ANY<sp/>DIRECT,<sp/>INDIRECT,<sp/>INCIDENTAL,<sp/>SPECIAL,<sp/>EXEMPLARY,<sp/>OR<sp/>CONSEQUENTIAL<sp/>DAMAGES<sp/>(INCLUDING,<sp/>BUT<sp/>NOT<sp/>LIMITED<sp/>TO,<sp/>PROCUREMENT<sp/>OF<sp/>SUBSTITUTE<sp/>GOODS<sp/>OR<sp/>SERVICES;<sp/>LOSS<sp/>OF<sp/>USE,<sp/>DATA,<sp/>OR<sp/>PROFITS;</highlight></codeline>
<codeline lineno="12"><highlight class="comment">*<sp/>OR<sp/>BUSINESS<sp/>INTERRUPTION)<sp/>HOWEVER<sp/>CAUSED<sp/>AND<sp/>ON<sp/>ANY<sp/>THEORY<sp/>OF<sp/>LIABILITY,<sp/>WHETHER<sp/>IN<sp/>CONTRACT,<sp/>STRICT<sp/>LIABILITY,<sp/>OR<sp/>TORT<sp/>(INCLUDING<sp/>NEGLIGENCE<sp/>OR<sp/>OTHERWISE)<sp/>ARISING<sp/>IN<sp/>ANY<sp/>WAY<sp/>OUT<sp/>OF<sp/>THE<sp/>USE<sp/>OF<sp/>THIS<sp/>SOFTWARE,<sp/>EVEN<sp/>IF<sp/>ADVISED<sp/>OF<sp/>THE<sp/>POSSIBILITY<sp/>OF<sp/>SUCH<sp/>DAMAGE.</highlight></codeline>
<codeline lineno="13"><highlight class="comment">*</highlight></codeline>
<codeline lineno="14"><highlight class="comment">*****************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;InOutCommBuffers.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;communications.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;Schema_Comm.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;TRUSTArrays.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;TRUSTTabs.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;TRUSTTab.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;Motcle.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="24"><highlight class="comment">/*!<sp/>@brief<sp/>Envoi<sp/>de<sp/>messages<sp/>point-to-point<sp/>synchrone<sp/>entre<sp/>la<sp/>source<sp/>et<sp/>la<sp/>cible.</highlight></codeline>
<codeline lineno="25"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="26"><highlight class="comment"><sp/>*<sp/>La<sp/>fonction<sp/>envoyer<sp/>se<sp/>termine<sp/>au<sp/>plus<sp/>tard<sp/>lorsque<sp/>le<sp/>message<sp/>a<sp/>ete</highlight></codeline>
<codeline lineno="27"><highlight class="comment"><sp/>*<sp/><sp/><sp/>recu<sp/>par<sp/>l&apos;instruction<sp/>&quot;recevoir&quot;<sp/>correspondante<sp/><sp/>et<sp/>l&apos;envoi<sp/>peut<sp/>etre<sp/>blocant</highlight></codeline>
<codeline lineno="28"><highlight class="comment"><sp/>*<sp/><sp/><sp/>(le<sp/>blocage<sp/>est<sp/>force<sp/>en<sp/>mode<sp/>debug,<sp/>selon<sp/>Comm_Group::check_enabled()<sp/>)</highlight></codeline>
<codeline lineno="29"><highlight class="comment"><sp/>*<sp/><sp/><sp/>Ces<sp/>communications<sp/>utilisent<sp/>Comm_Group::send()<sp/>et<sp/>Comm_Group::recv()</highlight></codeline>
<codeline lineno="30"><highlight class="comment"><sp/>*<sp/><sp/><sp/>Exemples<sp/>d&apos;utilisations<sp/>possibles:</highlight></codeline>
<codeline lineno="31"><highlight class="comment"><sp/>*<sp/><sp/><sp/>1)<sp/>communication<sp/>point-a-point<sp/>(processeur<sp/>2<sp/>vers<sp/>processeur<sp/>5)</highlight></codeline>
<codeline lineno="32"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(me()<sp/>==<sp/>2)</highlight></codeline>
<codeline lineno="33"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>envoyer(objet,<sp/>5,<sp/>canal);</highlight></codeline>
<codeline lineno="34"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else<sp/>if<sp/>(me()<sp/>==<sp/>5)</highlight></codeline>
<codeline lineno="35"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>recevoir(objet,<sp/>2,<sp/>canal);</highlight></codeline>
<codeline lineno="36"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/>ou<sp/>de<sp/>facon<sp/>equivalente<sp/>:</highlight></codeline>
<codeline lineno="37"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>envoyer(objet,<sp/>2,<sp/>5,<sp/>canal);<sp/>//<sp/>ne<sp/>fait<sp/>rien<sp/>sur<sp/>les<sp/>processeurs<sp/>autres<sp/>que<sp/>2</highlight></codeline>
<codeline lineno="38"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>recevoir(objet,<sp/>2,<sp/>5,<sp/>canal);<sp/>//<sp/>ne<sp/>fait<sp/>rien<sp/>sur<sp/>les<sp/>processeurs<sp/>autres<sp/>que<sp/>5</highlight></codeline>
<codeline lineno="39"><highlight class="comment"><sp/>*<sp/><sp/><sp/>2)<sp/>gather<sp/>:<sp/>le<sp/>processeur<sp/>0<sp/>recupere<sp/>les<sp/>donnees<sp/>de<sp/>l&apos;objet<sp/>t<sp/>de<sp/>tout<sp/>le<sp/>monde</highlight></codeline>
<codeline lineno="40"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>envoyer(t,<sp/>me(),<sp/>0,<sp/>canal);<sp/>//<sp/>Tout<sp/>le<sp/>monde<sp/>envoie<sp/>au<sp/>processeur<sp/>0,<sp/>sur<sp/>le<sp/>maitre,<sp/>ne<sp/>fait<sp/>rien</highlight></codeline>
<codeline lineno="41"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(je_suis_maitre())</highlight></codeline>
<codeline lineno="42"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>nproc();<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="43"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>recevoir(t,<sp/>0,<sp/>i;<sp/>canal);<sp/>//<sp/>Si<sp/>i==0,<sp/>ne<sp/>fait<sp/>rien.</highlight></codeline>
<codeline lineno="44"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...<sp/>faire<sp/>quelque<sp/>chose<sp/>avec<sp/>t</highlight></codeline>
<codeline lineno="45"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="46"><highlight class="comment"><sp/>*<sp/><sp/><sp/>3)<sp/>broadcast<sp/>:<sp/>le<sp/>processeur<sp/>0<sp/>envoie<sp/>l&apos;objet<sp/>a<sp/>tous<sp/>les<sp/>autres<sp/>processeurs</highlight></codeline>
<codeline lineno="47"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/>Il<sp/>n&apos;est<sp/>pas<sp/>necessaire<sp/>de<sp/>faire<sp/>le<sp/>test<sp/>&quot;if<sp/>(je_suis_maitre())&quot;</highlight></codeline>
<codeline lineno="48"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>envoyer(objet,<sp/>0,<sp/>-1,<sp/>canal);<sp/>//<sp/>Les<sp/>processeurs<sp/>autres<sp/>que<sp/>0<sp/>ignorent<sp/>l&apos;appel</highlight></codeline>
<codeline lineno="49"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>recevoir(objet,<sp/>0,<sp/>-1,<sp/>canal);//<sp/>Le<sp/>processeur<sp/>0<sp/>ignore<sp/>l&apos;appel</highlight></codeline>
<codeline lineno="50"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/>Il<sp/>vaut<sp/>mieux<sp/>utiliser<sp/>envoyer_broadcast()<sp/>pour<sp/>cet<sp/>usage.</highlight></codeline>
<codeline lineno="51"><highlight class="comment"><sp/>*<sp/><sp/><sp/>4)<sp/>broadcast<sp/>:<sp/>ecriture<sp/>equivalente</highlight></codeline>
<codeline lineno="52"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(je_suis_maitre())</highlight></codeline>
<codeline lineno="53"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>envoyer(objet,<sp/>-1,<sp/>canal);<sp/>//<sp/>Emission<sp/>par<sp/>le<sp/>maitre<sp/>a<sp/>tous<sp/>les<sp/>processeurs,<sp/>sauf<sp/>lui-meme</highlight></codeline>
<codeline lineno="54"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else</highlight></codeline>
<codeline lineno="55"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>recevoir(objet,<sp/>0,<sp/>canal);<sp/>//<sp/>Reception<sp/>d&apos;un<sp/>message<sp/>du<sp/>processeur<sp/>maitre</highlight></codeline>
<codeline lineno="56"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/>Il<sp/>vaut<sp/>mieux<sp/>utiliser<sp/>envoyer_broadcast()<sp/>pour<sp/>cet<sp/>usage.</highlight></codeline>
<codeline lineno="57"><highlight class="comment"><sp/>*<sp/><sp/>Dans<sp/>l&apos;implementation<sp/>de<sp/>envoyer_,<sp/>on<sp/>encapsule<sp/>l&apos;objet<sp/>recu<sp/>dans<sp/>un<sp/>buffer<sp/>et<sp/>on<sp/>envoie<sp/>le<sp/>buffer.</highlight></codeline>
<codeline lineno="58"><highlight class="comment"><sp/>*<sp/><sp/>Ca<sp/>marche<sp/>donc<sp/>pour<sp/>les<sp/>types<sp/>complexes<sp/>pourvu<sp/>que<sp/>Entree<sp/>et<sp/>Sortie<sp/>sachent<sp/>lire<sp/>et<sp/>ecrire<sp/>l&apos;objet.</highlight></codeline>
<codeline lineno="59"><highlight class="comment"><sp/>*<sp/><sp/>Chaque<sp/>envoi<sp/>necessite<sp/>l&apos;envoi<sp/>de<sp/>deux<sp/>messages<sp/>:<sp/>d&apos;abord<sp/>la<sp/>taille<sp/>du<sp/>buffer,<sp/>puis<sp/>le<sp/>contenu.</highlight></codeline>
<codeline lineno="60"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="61"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>envoyer_buffered_(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>T&amp;<sp/>objet,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>source,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>cible,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>canal)</highlight></codeline>
<codeline lineno="64"><highlight class="normal">{</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>moi<sp/>=<sp/><ref refid="classProcess_1ab55ba07167ec807ed3a145cac0f5dca4" kindref="member">Process::me</ref>();</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(moi<sp/>==<sp/>cible)</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(source<sp/>!=<sp/>moi<sp/>&amp;&amp;<sp/>source<sp/>!=<sp/>-1)</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><ref refid="classOutputCommBuffer" kindref="compound">OutputCommBuffer</ref><sp/>buffer;</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/>buffer<sp/>&lt;&lt;<sp/>objet;</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<sp/>data<sp/>=<sp/>buffer.<ref refid="classOutputCommBuffer_1ad4526ebfe5863c4009c858d59576c638" kindref="member">get_buffer</ref>();</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>sz<sp/><sp/><sp/>=<sp/>buffer.<ref refid="classOutputCommBuffer_1a3dd24532686e8a731b2809b0049c7a4c" kindref="member">get_buffer_size</ref>();</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classComm__Group" kindref="compound">Comm_Group</ref>&amp;<sp/>grp<sp/>=<sp/><ref refid="classPE__Groups_1ae6ca0277a58f2ab34ebfb3216578fa75" kindref="member">PE_Groups::current_group</ref>();</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cible<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n<sp/>=<sp/>grp.<ref refid="classComm__Group_1a77f7c2af23e60af705eeaeac448dce5d" kindref="member">nproc</ref>();</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>n;<sp/>i++)</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(i<sp/>!=<sp/>moi)</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>grp.<ref refid="classComm__Group_1a5489eba2c9ba6099899f96e2621131f6" kindref="member">send</ref>(i,<sp/>&amp;sz,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">),<sp/>canal);</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>grp.<ref refid="classComm__Group_1a5489eba2c9ba6099899f96e2621131f6" kindref="member">send</ref>(i,<sp/>data,<sp/>sz,<sp/>canal);</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>grp.<ref refid="classComm__Group_1a5489eba2c9ba6099899f96e2621131f6" kindref="member">send</ref>(cible,<sp/>&amp;sz,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">),<sp/>canal);</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>grp.<ref refid="classComm__Group_1a5489eba2c9ba6099899f96e2621131f6" kindref="member">send</ref>(cible,<sp/>data,<sp/>sz,<sp/>canal);</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="95"><highlight class="normal">}</highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="97"><highlight class="comment">/*!<sp/>@brief<sp/>Reception<sp/>d&apos;un<sp/>message<sp/>en<sp/>provenance<sp/>du<sp/>processeur<sp/>source</highlight></codeline>
<codeline lineno="98"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="99"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>recevoir_buffered_(T&amp;<sp/>objet,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>source,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>cible,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>canal)</highlight></codeline>
<codeline lineno="102"><highlight class="normal">{</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>moi<sp/>=<sp/><ref refid="classProcess_1ab55ba07167ec807ed3a145cac0f5dca4" kindref="member">Process::me</ref>();</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(moi<sp/>==<sp/>source)</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cible<sp/>!=<sp/>moi<sp/>&amp;&amp;<sp/>cible<sp/>!=<sp/>-1)</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>sz;</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classComm__Group" kindref="compound">Comm_Group</ref>&amp;<sp/>grp<sp/>=<sp/><ref refid="classPE__Groups_1ae6ca0277a58f2ab34ebfb3216578fa75" kindref="member">PE_Groups::current_group</ref>();</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/>grp.<ref refid="classComm__Group_1ae3622cd7a58e3dfeba7bf9496c298d0f" kindref="member">recv</ref>(source,<sp/>&amp;sz,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">),<sp/>canal);</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><ref refid="classInputCommBuffer" kindref="compound">InputCommBuffer</ref><sp/>buffer;</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<sp/>data<sp/>=<sp/>buffer.<ref refid="classInputCommBuffer_1a1ea808033309fd6c3def0db5ac439fa4" kindref="member">reserve_buffer</ref>(sz);</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/>grp.<ref refid="classComm__Group_1ae3622cd7a58e3dfeba7bf9496c298d0f" kindref="member">recv</ref>(source,<sp/>data,<sp/>sz,<sp/>canal);</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/>buffer.<ref refid="classInputCommBuffer_1a3a272bcedfa78423e2fb29084334000a" kindref="member">create_stream</ref>();</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/>buffer<sp/>&gt;&gt;<sp/>objet;</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/>buffer.<ref refid="classInputCommBuffer_1a4df9114080cacee52c46a14ad052509a" kindref="member">clear</ref>();</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="120"><highlight class="normal">}</highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="122"><highlight class="comment">/*!<sp/>@brief<sp/>Broadcast<sp/>de<sp/>l&apos;objet<sp/>par<sp/>le<sp/>processeur<sp/>source<sp/>a<sp/>tous<sp/>les<sp/>autres<sp/>processeurs.</highlight></codeline>
<codeline lineno="123"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="124"><highlight class="comment"><sp/>*<sp/>Fonctionne<sp/>pour<sp/>des<sp/>types<sp/>complexes<sp/>supportes<sp/>par<sp/>Entree<sp/>ou<sp/>Sortie.</highlight></codeline>
<codeline lineno="125"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="126"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>envoyer_broadcast_buffered_(T&amp;<sp/>objet,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>source)</highlight></codeline>
<codeline lineno="129"><highlight class="normal">{</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classComm__Group" kindref="compound">Comm_Group</ref>&amp;<sp/>grp<sp/>=<sp/><ref refid="classPE__Groups_1ae6ca0277a58f2ab34ebfb3216578fa75" kindref="member">PE_Groups::current_group</ref>();</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(grp.<ref refid="classComm__Group_1a7fde70af91b6d994aacd10bb4e74aeb8" kindref="member">rank</ref>()<sp/>==<sp/>source)</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classOutputCommBuffer" kindref="compound">OutputCommBuffer</ref><sp/>buffer;</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>buffer<sp/>&lt;&lt;<sp/>objet;</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<sp/>data<sp/>=<sp/>buffer.<ref refid="classOutputCommBuffer_1ad4526ebfe5863c4009c858d59576c638" kindref="member">get_buffer</ref>();</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>sz<sp/><sp/><sp/>=<sp/>buffer.<ref refid="classOutputCommBuffer_1a3dd24532686e8a731b2809b0049c7a4c" kindref="member">get_buffer_size</ref>();</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>grp.<ref refid="classComm__Group_1a9e33e15e2e719843a0c42afc348f7a10" kindref="member">broadcast</ref>(&amp;sz,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">),<sp/>source);</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>grp.<ref refid="classComm__Group_1a9e33e15e2e719843a0c42afc348f7a10" kindref="member">broadcast</ref>((</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*)<sp/>data,<sp/>sz,<sp/>source);</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>sz;</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>grp.<ref refid="classComm__Group_1a9e33e15e2e719843a0c42afc348f7a10" kindref="member">broadcast</ref>(&amp;sz,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">),<sp/>source);</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classInputCommBuffer" kindref="compound">InputCommBuffer</ref><sp/>buffer;</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<sp/>data<sp/>=<sp/>buffer.<ref refid="classInputCommBuffer_1a1ea808033309fd6c3def0db5ac439fa4" kindref="member">reserve_buffer</ref>(sz);</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>grp.<ref refid="classComm__Group_1a9e33e15e2e719843a0c42afc348f7a10" kindref="member">broadcast</ref>((</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*)<sp/>data,<sp/>sz,<sp/>source);</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>buffer.<ref refid="classInputCommBuffer_1a3a272bcedfa78423e2fb29084334000a" kindref="member">create_stream</ref>();</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>buffer<sp/>&gt;&gt;<sp/>objet;</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>buffer.<ref refid="classInputCommBuffer_1a4df9114080cacee52c46a14ad052509a" kindref="member">clear</ref>();</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="152"><highlight class="normal">}</highlight></codeline>
<codeline lineno="153"><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>envoyer(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classObjet__U" kindref="compound">Objet_U</ref>&amp;<sp/>t,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>source,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>cible,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>canal)</highlight></codeline>
<codeline lineno="155"><highlight class="normal">{</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>envoyer_buffered_(t,<sp/>source,<sp/>cible,<sp/>canal);</highlight></codeline>
<codeline lineno="157"><highlight class="normal">}</highlight></codeline>
<codeline lineno="158"><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>envoyer(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classObjet__U" kindref="compound">Objet_U</ref>&amp;<sp/>t,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>cible,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>canal)</highlight></codeline>
<codeline lineno="160"><highlight class="normal">{</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>envoyer_buffered_(t,<sp/><ref refid="classProcess_1ab55ba07167ec807ed3a145cac0f5dca4" kindref="member">Process::me</ref>(),<sp/>cible,<sp/>canal);</highlight></codeline>
<codeline lineno="162"><highlight class="normal">}</highlight></codeline>
<codeline lineno="163"><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>recevoir(<ref refid="classObjet__U" kindref="compound">Objet_U</ref>&amp;<sp/>t,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>source,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>cible,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>canal)</highlight></codeline>
<codeline lineno="165"><highlight class="normal">{</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>recevoir_buffered_(t,<sp/>source,<sp/>cible,<sp/>canal);</highlight></codeline>
<codeline lineno="167"><highlight class="normal">}</highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>recevoir(<ref refid="classObjet__U" kindref="compound">Objet_U</ref>&amp;<sp/>t,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>source,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>canal)</highlight></codeline>
<codeline lineno="170"><highlight class="normal">{</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>recevoir_buffered_(t,<sp/>source,<sp/><ref refid="classProcess_1ab55ba07167ec807ed3a145cac0f5dca4" kindref="member">Process::me</ref>(),<sp/>canal);</highlight></codeline>
<codeline lineno="172"><highlight class="normal">}</highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>envoyer_broadcast(<ref refid="classObjet__U" kindref="compound">Objet_U</ref>&amp;<sp/>t,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>source)</highlight></codeline>
<codeline lineno="175"><highlight class="normal">{</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>envoyer_broadcast_buffered_(t,<sp/>source);</highlight></codeline>
<codeline lineno="177"><highlight class="normal">}</highlight></codeline>
<codeline lineno="178"><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Template<sp/>qui<sp/>marche<sp/>pour<sp/>tout<sp/>objet<sp/>T<sp/>qui<sp/>ressemble<sp/>a<sp/>un<sp/>vecteur<sp/>(possede<sp/>un<sp/>operator[])<sp/>de<sp/>taille<sp/>nproc()</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="181"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>envoyer_all_to_all_(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>T&amp;<sp/>src,<sp/>T&amp;<sp/>dest)</highlight></codeline>
<codeline lineno="182"><highlight class="normal">{</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classComm__Group" kindref="compound">Comm_Group</ref>&amp;<sp/>grp<sp/>=<sp/><ref refid="classPE__Groups_1ae6ca0277a58f2ab34ebfb3216578fa75" kindref="member">PE_Groups::current_group</ref>();</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/>assert(src.size()<sp/>==<sp/><ref refid="classProcess_1a6bf692ce58d9578aa62ac3c07b8caaa1" kindref="member">Process::nproc</ref>());</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/>assert(dest.size()<sp/>==<sp/><ref refid="classProcess_1a6bf692ce58d9578aa62ac3c07b8caaa1" kindref="member">Process::nproc</ref>());</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><ref refid="classSchema__Comm" kindref="compound">Schema_Comm</ref><sp/>sch;</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nproc<sp/>=<sp/>grp.<ref refid="classComm__Group_1a77f7c2af23e60af705eeaeac448dce5d" kindref="member">nproc</ref>();</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>moi<sp/>=<sp/>grp.<ref refid="classComm__Group_1a7fde70af91b6d994aacd10bb4e74aeb8" kindref="member">rank</ref>();</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/>dest[moi]<sp/>=<sp/>src[moi];</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><ref refid="classTRUSTArray" kindref="compound">ArrOfInt</ref><sp/>send_pe_list(1);</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><ref refid="classTRUSTArray" kindref="compound">ArrOfInt</ref><sp/>recv_pe_list(1);</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>p<sp/>=<sp/>1;<sp/>p<sp/>&lt;<sp/>nproc;<sp/>p++)</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>send_to<sp/>=<sp/>(moi<sp/>+<sp/>p)<sp/>%<sp/>nproc;</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>recv_from<sp/>=<sp/>(moi<sp/>+<sp/>nproc<sp/>-<sp/>p)<sp/>%<sp/>nproc;</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>send_pe_list[0]<sp/>=<sp/>send_to;</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>recv_pe_list[0]<sp/>=<sp/>recv_from;</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>sch.<ref refid="classSchema__Comm_1ad11c9b47999c294c26ae4df8d2bbd57b" kindref="member">set_send_recv_pe_list</ref>(send_pe_list,<sp/>recv_pe_list);</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>sch.<ref refid="classSchema__Comm_1ac574385d716aca94a48373ab71f37e4f" kindref="member">begin_comm</ref>();</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>sch.<ref refid="classSchema__Comm_1a681259723c5c1b85f419433de7aa78d7" kindref="member">send_buffer</ref>(send_to)<sp/>&lt;&lt;<sp/>src[send_to];</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>sch.<ref refid="classSchema__Comm_1a516f48fb0494781b373d7b343388ed44" kindref="member">echange_taille_et_messages</ref>();</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>sch.<ref refid="classSchema__Comm_1a85c05ef4688c20afa429264ebac8fdcf" kindref="member">recv_buffer</ref>(recv_from)<sp/>&gt;&gt;<sp/>dest[recv_from];</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>sch.<ref refid="classSchema__Comm_1a7dd8d56caee9c6759850bb7c38e31c8b" kindref="member">end_comm</ref>();</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="206"><highlight class="normal">}</highlight></codeline>
<codeline lineno="207"><highlight class="normal"></highlight></codeline>
<codeline lineno="208"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>envoyer_all_to_all(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classTRUST__Vector" kindref="compound">TRUST_Vector</ref>&lt;<ref refid="classTRUSTTab" kindref="compound">TRUSTTab&lt;double&gt;</ref>&gt;&amp;<sp/>src,<sp/><ref refid="classTRUST__Vector" kindref="compound">TRUST_Vector</ref>&lt;<ref refid="classTRUSTTab" kindref="compound">TRUSTTab&lt;double&gt;</ref>&gt;&amp;<sp/>dest)</highlight></codeline>
<codeline lineno="209"><highlight class="normal">{</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>envoyer_all_to_all_(src,<sp/>dest);</highlight></codeline>
<codeline lineno="211"><highlight class="normal">}</highlight></codeline>
<codeline lineno="212"><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>envoyer_all_to_all(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classTRUST__Vector" kindref="compound">TRUST_Vector</ref>&lt;<ref refid="classTRUSTArray" kindref="compound">TRUSTArray&lt;int&gt;</ref>&gt;&amp;<sp/>src,<sp/><ref refid="classTRUST__Vector" kindref="compound">TRUST_Vector</ref>&lt;<ref refid="classTRUSTArray" kindref="compound">TRUSTArray&lt;int&gt;</ref>&gt;&amp;<sp/>dest)</highlight></codeline>
<codeline lineno="214"><highlight class="normal">{</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>envoyer_all_to_all_(src,<sp/>dest);</highlight></codeline>
<codeline lineno="216"><highlight class="normal">}</highlight></codeline>
<codeline lineno="217"><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>INT_is_64_<sp/>==<sp/>2</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="219"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>envoyer_all_to_all(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classTRUST__Vector" kindref="compound">TRUST_Vector</ref>&lt;<ref refid="classTRUSTArray" kindref="compound">TRUSTArray&lt;trustIdType&gt;</ref>&gt;&amp;<sp/>src,<sp/><ref refid="classTRUST__Vector" kindref="compound">TRUST_Vector</ref>&lt;<ref refid="classTRUSTArray" kindref="compound">TRUSTArray&lt;trustIdType&gt;</ref>&gt;&amp;<sp/>dest)</highlight></codeline>
<codeline lineno="220"><highlight class="normal">{</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>envoyer_all_to_all_(src,<sp/>dest);</highlight></codeline>
<codeline lineno="222"><highlight class="normal">}</highlight></codeline>
<codeline lineno="223"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="225"><highlight class="comment">/*!<sp/>@brief<sp/>On<sp/>suppose<sp/>que<sp/>les<sp/>tableaux<sp/>en<sp/>entree<sp/>et<sp/>en<sp/>sortie<sp/>sont<sp/>de<sp/>taille<sp/>nproc()<sp/>.</highlight></codeline>
<codeline lineno="226"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="227"><highlight class="comment"><sp/>*<sp/>On<sp/>envoie<sp/>src[0]<sp/>au<sp/>proc<sp/>0,</highlight></codeline>
<codeline lineno="228"><highlight class="comment"><sp/>*<sp/><sp/><sp/>src[1]<sp/>au<sp/>proc<sp/>1,<sp/>etc...<sp/>la<sp/>valeur<sp/>recue<sp/>du<sp/>processeur<sp/>0<sp/>et<sp/>mise<sp/>dans</highlight></codeline>
<codeline lineno="229"><highlight class="comment"><sp/>*<sp/><sp/><sp/>dest[0],<sp/>processeur<sp/>1<sp/>dans<sp/>dest[1],<sp/>etc...</highlight></codeline>
<codeline lineno="230"><highlight class="comment"><sp/>*<sp/><sp/><sp/>Il<sp/>est<sp/>autorise<sp/>d&apos;appeler<sp/>la<sp/>fonction<sp/>avec<sp/>le<sp/>meme<sp/>tableau<sp/>src<sp/>et<sp/>dest.</highlight></codeline>
<codeline lineno="231"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="232"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>envoyer_all_to_all(std::vector&lt;long<sp/>long&gt;&amp;<sp/>src,<sp/>std::vector&lt;long<sp/>long&gt;&amp;<sp/>dest)</highlight></codeline>
<codeline lineno="234"><highlight class="normal">{</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classComm__Group" kindref="compound">Comm_Group</ref>&amp;<sp/>grp<sp/>=<sp/><ref refid="classPE__Groups_1ae6ca0277a58f2ab34ebfb3216578fa75" kindref="member">PE_Groups::current_group</ref>();</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/>assert(</highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">int</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(src.size())<sp/>==<sp/>grp.<ref refid="classComm__Group_1a77f7c2af23e60af705eeaeac448dce5d" kindref="member">nproc</ref>());</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/>assert(</highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">int</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(dest.size())<sp/>==<sp/>grp.<ref refid="classComm__Group_1a77f7c2af23e60af705eeaeac448dce5d" kindref="member">nproc</ref>());</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(src.data()<sp/>==<sp/>dest.data())</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>std::vector&lt;long<sp/>long&gt;<sp/>tmp(grp.<ref refid="classComm__Group_1a77f7c2af23e60af705eeaeac448dce5d" kindref="member">nproc</ref>(),0);</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>grp.<ref refid="classComm__Group_1abf4e41f7151bf25ea7a2591e31907cff" kindref="member">all_to_all</ref>(src.data(),<sp/>tmp.data(),<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>dest<sp/>=<sp/>tmp;</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>grp.<ref refid="classComm__Group_1abf4e41f7151bf25ea7a2591e31907cff" kindref="member">all_to_all</ref>(src.data(),<sp/>dest.data(),<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="249"><highlight class="normal">}</highlight></codeline>
<codeline lineno="250"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="251"><highlight class="comment">/*!<sp/>@brief<sp/>Calcule<sp/>la<sp/>transposee<sp/>d&apos;une<sp/>liste<sp/>de<sp/>processeurs:<sp/>On<sp/>construit<sp/>le<sp/>tableau<sp/>dest_list<sp/>tel<sp/>que:</highlight></codeline>
<codeline lineno="252"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="253"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x<sp/>est<sp/>dans<sp/>la<sp/>liste<sp/>src_list<sp/>sur<sp/>le<sp/>processeur<sp/>y</highlight></codeline>
<codeline lineno="254"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/>si<sp/>et<sp/>seulement<sp/>si</highlight></codeline>
<codeline lineno="255"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y<sp/>est<sp/>dans<sp/>la<sp/>liste<sp/>dest_list<sp/>sur<sp/>le<sp/>processeur<sp/>x</highlight></codeline>
<codeline lineno="256"><highlight class="comment"><sp/>*<sp/><sp/><sp/>En<sp/>pratique,<sp/>cette<sp/>fonction<sp/>permet<sp/>de<sp/>calculer<sp/>la<sp/>liste<sp/>des</highlight></codeline>
<codeline lineno="257"><highlight class="comment"><sp/>*<sp/><sp/><sp/>processeurs<sp/>qui<sp/>recoivent<sp/>des<sp/>messages<sp/>si<sp/>on<sp/>connait<sp/>la<sp/>liste</highlight></codeline>
<codeline lineno="258"><highlight class="comment"><sp/>*<sp/><sp/><sp/>des<sp/>processeurs<sp/>qui<sp/>envoient<sp/>des<sp/>messages,<sp/>et<sp/>reciproquement.</highlight></codeline>
<codeline lineno="259"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="260"><highlight class="comment"><sp/>*<sp/>@param<sp/>(src_list)<sp/>Une<sp/>liste<sp/>de<sp/>numeros<sp/>de<sp/>PEs<sp/>presents<sp/>dans<sp/>ce<sp/>groupe<sp/>de<sp/>comm.<sp/>Ce<sp/>sont<sp/>les<sp/>indices<sp/>des<sp/>pes<sp/>dans<sp/>le<sp/>groupe<sp/>courant<sp/>(0<sp/>&lt;=<sp/>pe<sp/>&lt;<sp/>nproc_)</highlight></codeline>
<codeline lineno="261"><highlight class="comment"><sp/>*<sp/>@param<sp/>(dest_list)<sp/>Le<sp/>tableau<sp/>ou<sp/>stocker<sp/>le<sp/>resultat.<sp/>On<sp/>le<sp/>met<sp/>a<sp/>la<sp/>bonne<sp/>taille<sp/>et<sp/>on<sp/>le<sp/>remplit.<sp/>Les<sp/>numeros<sp/>de<sp/>PEs<sp/>sont<sp/>mis<sp/>dans<sp/>l&apos;ordre<sp/>croissant.<sp/>Ce<sp/>sont<sp/>les<sp/>indices<sp/>des<sp/>pes<sp/>dans<sp/>le<sp/>groupe<sp/>courant<sp/>(0<sp/>&lt;=<sp/>pe<sp/>&lt;<sp/>nproc_)</highlight></codeline>
<codeline lineno="262"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>reverse_send_recv_pe_list(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classTRUSTArray" kindref="compound">ArrOfInt</ref>&amp;<sp/>src_list,<sp/><ref refid="classTRUSTArray" kindref="compound">ArrOfInt</ref>&amp;<sp/>dest_list)</highlight></codeline>
<codeline lineno="264"><highlight class="normal">{</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classComm__Group" kindref="compound">Comm_Group</ref>&amp;<sp/>grp<sp/>=<sp/><ref refid="classPE__Groups_1ae6ca0277a58f2ab34ebfb3216578fa75" kindref="member">PE_Groups::current_group</ref>();</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>np<sp/>=<sp/>grp.<ref refid="classComm__Group_1a77f7c2af23e60af705eeaeac448dce5d" kindref="member">nproc</ref>();</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/>assert(src_list.<ref refid="classTRUSTArray_1a48b5aa02624ffdc0bad44ca38ddd1a1c" kindref="member">size_array</ref>()<sp/>==<sp/>0<sp/>||<sp/>max_array(src_list)<sp/>&lt;<sp/>np);</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/>assert(src_list.<ref refid="classTRUSTArray_1a48b5aa02624ffdc0bad44ca38ddd1a1c" kindref="member">size_array</ref>()<sp/>==<sp/>0<sp/>||<sp/>min_array(src_list)<sp/>&gt;=<sp/>0);</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><ref refid="classTRUSTArray" kindref="compound">ArrOfInt</ref><sp/>flag(np);</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i;</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>src_size<sp/>=<sp/>src_list.<ref refid="classTRUSTArray_1a48b5aa02624ffdc0bad44ca38ddd1a1c" kindref="member">size_array</ref>();</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>src_size;<sp/>i++)</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pe<sp/>=<sp/>src_list[i];</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>flag[pe]<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><ref refid="classTRUSTArray" kindref="compound">ArrOfInt</ref><sp/>flag_recv(np);</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/>envoyer_all_to_all(flag,<sp/>flag_recv);</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/>dest_list.<ref refid="classTRUSTArray_1ad1bd36a32ef2d67b0a3695b5d97ac0ab" kindref="member">resize_array</ref>(np);</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>np;<sp/>i++)</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(flag_recv[i])</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>dest_list[n++]<sp/>=<sp/>i;</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/>dest_list.<ref refid="classTRUSTArray_1ad1bd36a32ef2d67b0a3695b5d97ac0ab" kindref="member">resize_array</ref>(n);</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="286"><highlight class="normal">}</highlight></codeline>
<codeline lineno="287"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="288"><highlight class="comment">/*!<sp/>@brief<sp/>On<sp/>suppose<sp/>que<sp/>les<sp/>tableaux<sp/>en<sp/>entree<sp/>et<sp/>en<sp/>sortie<sp/>sont<sp/>tels<sp/>que<sp/>dimension(0)==nproc()<sp/>et<sp/>que<sp/>les<sp/>autres<sp/>dimensions</highlight></codeline>
<codeline lineno="289"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="290"><highlight class="comment"><sp/>*<sp/><sp/><sp/>sont<sp/>identiques.<sp/>On<sp/>envoie<sp/>src(0,<sp/>i,<sp/>j,<sp/>...)<sp/>au<sp/>proc<sp/>0,</highlight></codeline>
<codeline lineno="291"><highlight class="comment"><sp/>*<sp/><sp/><sp/>src(0,<sp/>i,<sp/>j,<sp/>...)<sp/>au<sp/>proc<sp/>1,<sp/>etc...<sp/>la<sp/>valeur<sp/>recue<sp/>du<sp/>processeur<sp/>0<sp/>et<sp/>mise<sp/>dans</highlight></codeline>
<codeline lineno="292"><highlight class="comment"><sp/>*<sp/><sp/><sp/>dest(0,<sp/>i,<sp/>j,<sp/>...)<sp/>,<sp/>processeur<sp/>1<sp/>dans<sp/>dest(1,<sp/>i,<sp/>j,<sp/>...)<sp/>,<sp/>etc...</highlight></codeline>
<codeline lineno="293"><highlight class="comment"><sp/>*<sp/><sp/><sp/>Il<sp/>est<sp/>autorise<sp/>d&apos;appeler<sp/>la<sp/>fonction<sp/>avec<sp/>le<sp/>meme<sp/>tableau<sp/>src<sp/>et<sp/>dest.</highlight></codeline>
<codeline lineno="294"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="295"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="296"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>envoyer_all_to_all(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classTRUSTTab" kindref="compound">DoubleTab</ref>&amp;<sp/>src,<sp/><ref refid="classTRUSTTab" kindref="compound">DoubleTab</ref>&amp;<sp/>dest)</highlight></codeline>
<codeline lineno="297"><highlight class="normal">{</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classComm__Group" kindref="compound">Comm_Group</ref>&amp;<sp/>grp<sp/>=<sp/><ref refid="classPE__Groups_1ae6ca0277a58f2ab34ebfb3216578fa75" kindref="member">PE_Groups::current_group</ref>();</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/>assert(src.<ref refid="classTRUSTTab_1aee55d6851cd43d179ec3c46262fa0aad" kindref="member">dimension</ref>(0)<sp/>==<sp/>grp.<ref refid="classComm__Group_1a77f7c2af23e60af705eeaeac448dce5d" kindref="member">nproc</ref>());</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/>assert(dest.<ref refid="classTRUSTTab_1aee55d6851cd43d179ec3c46262fa0aad" kindref="member">dimension</ref>(0)<sp/>==<sp/>grp.<ref refid="classComm__Group_1a77f7c2af23e60af705eeaeac448dce5d" kindref="member">nproc</ref>());</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/>assert(src.<ref refid="classTRUSTArray_1a48b5aa02624ffdc0bad44ca38ddd1a1c" kindref="member">size_array</ref>()<sp/>==<sp/>dest.<ref refid="classTRUSTArray_1a48b5aa02624ffdc0bad44ca38ddd1a1c" kindref="member">size_array</ref>());</highlight></codeline>
<codeline lineno="302"><highlight class="normal"></highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dest.<ref refid="classTRUSTArray_1a9ec33fa4863d56044782dc86c2b0a83e" kindref="member">data</ref>()<sp/>==<sp/>src.<ref refid="classTRUSTArray_1a9ec33fa4863d56044782dc86c2b0a83e" kindref="member">data</ref>())</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classTRUSTTab" kindref="compound">DoubleTab</ref><sp/>tmp(src);</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>envoyer_all_to_all(src,<sp/>tmp);</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>dest<sp/>=<sp/>tmp;</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>sz<sp/>=<sp/>src.<ref refid="classTRUSTVect_1a0a3b16fb39def99371b91ec218ef138b" kindref="member">size</ref>()<sp/>/<sp/>grp.<ref refid="classComm__Group_1a77f7c2af23e60af705eeaeac448dce5d" kindref="member">nproc</ref>()<sp/>*<sp/>(int)</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>grp.<ref refid="classComm__Group_1abf4e41f7151bf25ea7a2591e31907cff" kindref="member">all_to_all</ref>(src.<ref refid="classTRUSTArray_1a9ec33fa4863d56044782dc86c2b0a83e" kindref="member">data</ref>(),<sp/>dest.<ref refid="classTRUSTArray_1a9ec33fa4863d56044782dc86c2b0a83e" kindref="member">data</ref>(),<sp/>sz);</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="314"><highlight class="normal">}</highlight></codeline>
<codeline lineno="315"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="316"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>envoyer_all_gather_(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classTRUSTTab" kindref="compound">TRUSTTab&lt;T&gt;</ref>&amp;<sp/>src,<sp/><ref refid="classTRUSTTab" kindref="compound">TRUSTTab&lt;T&gt;</ref>&amp;<sp/>dest)</highlight></codeline>
<codeline lineno="317"><highlight class="normal">{</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classComm__Group" kindref="compound">Comm_Group</ref>&amp;<sp/>grp<sp/>=<sp/><ref refid="classPE__Groups_1ae6ca0277a58f2ab34ebfb3216578fa75" kindref="member">PE_Groups::current_group</ref>();</highlight></codeline>
<codeline lineno="319"><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dest.<ref refid="classTRUSTArray_1a62f5eeb66939850d54464bb1e9c34d3d" kindref="member">addr</ref>()<sp/>==<sp/>src.<ref refid="classTRUSTArray_1a62f5eeb66939850d54464bb1e9c34d3d" kindref="member">addr</ref>())</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>assert(src.<ref refid="classTRUSTTab_1aee55d6851cd43d179ec3c46262fa0aad" kindref="member">dimension</ref>(0)<sp/>==<sp/>grp.<ref refid="classComm__Group_1a77f7c2af23e60af705eeaeac448dce5d" kindref="member">nproc</ref>());</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>assert(dest.<ref refid="classTRUSTTab_1aee55d6851cd43d179ec3c46262fa0aad" kindref="member">dimension</ref>(0)<sp/>==<sp/>grp.<ref refid="classComm__Group_1a77f7c2af23e60af705eeaeac448dce5d" kindref="member">nproc</ref>());</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>sz<sp/>=<sp/>src.<ref refid="classTRUSTVect_1a0a3b16fb39def99371b91ec218ef138b" kindref="member">size</ref>()<sp/>/<sp/>grp.<ref refid="classComm__Group_1a77f7c2af23e60af705eeaeac448dce5d" kindref="member">nproc</ref>()<sp/>*<sp/>(int)</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(T);</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classTRUSTTab" kindref="compound">TRUSTTab&lt;T&gt;</ref><sp/>tmp(src);</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>grp.<ref refid="classComm__Group_1a3545b811fa3903bb895a5363d36dfaff" kindref="member">all_gather</ref>(src.<ref refid="classTRUSTArray_1a62f5eeb66939850d54464bb1e9c34d3d" kindref="member">addr</ref>(),<sp/>tmp.addr(),<sp/>sz);</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>dest<sp/>=<sp/>tmp;</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>sz<sp/>=<sp/>src.<ref refid="classTRUSTVect_1a0a3b16fb39def99371b91ec218ef138b" kindref="member">size</ref>()<sp/>*<sp/>(int)</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(T);</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>assert(<sp/>dest.<ref refid="classTRUSTArray_1a48b5aa02624ffdc0bad44ca38ddd1a1c" kindref="member">size_array</ref>()<sp/>==<sp/>grp.<ref refid="classComm__Group_1a77f7c2af23e60af705eeaeac448dce5d" kindref="member">nproc</ref>()*src.<ref refid="classTRUSTArray_1a48b5aa02624ffdc0bad44ca38ddd1a1c" kindref="member">size_array</ref>());</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>grp.<ref refid="classComm__Group_1a3545b811fa3903bb895a5363d36dfaff" kindref="member">all_gather</ref>(src.<ref refid="classTRUSTArray_1a62f5eeb66939850d54464bb1e9c34d3d" kindref="member">addr</ref>(),<sp/>dest.<ref refid="classTRUSTArray_1a62f5eeb66939850d54464bb1e9c34d3d" kindref="member">addr</ref>(),<sp/>sz);</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="335"><highlight class="normal">}</highlight></codeline>
<codeline lineno="336"><highlight class="normal"></highlight></codeline>
<codeline lineno="337"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="338"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>envoyer_gather_(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classTRUSTTab" kindref="compound">TRUSTTab&lt;T&gt;</ref>&amp;<sp/>src,<sp/><ref refid="classTRUSTTab" kindref="compound">TRUSTTab&lt;T&gt;</ref>&amp;<sp/>dest,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>root)</highlight></codeline>
<codeline lineno="339"><highlight class="normal">{</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classComm__Group" kindref="compound">Comm_Group</ref>&amp;<sp/>grp<sp/>=<sp/><ref refid="classPE__Groups_1ae6ca0277a58f2ab34ebfb3216578fa75" kindref="member">PE_Groups::current_group</ref>();</highlight></codeline>
<codeline lineno="341"><highlight class="normal"></highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dest.<ref refid="classTRUSTArray_1a62f5eeb66939850d54464bb1e9c34d3d" kindref="member">addr</ref>()<sp/>==<sp/>src.<ref refid="classTRUSTArray_1a62f5eeb66939850d54464bb1e9c34d3d" kindref="member">addr</ref>())</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>assert(src.<ref refid="classTRUSTTab_1aee55d6851cd43d179ec3c46262fa0aad" kindref="member">dimension</ref>(0)<sp/>==<sp/>grp.<ref refid="classComm__Group_1a77f7c2af23e60af705eeaeac448dce5d" kindref="member">nproc</ref>());</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>assert(dest.<ref refid="classTRUSTTab_1aee55d6851cd43d179ec3c46262fa0aad" kindref="member">dimension</ref>(0)<sp/>==<sp/>grp.<ref refid="classComm__Group_1a77f7c2af23e60af705eeaeac448dce5d" kindref="member">nproc</ref>());</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>sz<sp/>=<sp/>src.<ref refid="classTRUSTVect_1a0a3b16fb39def99371b91ec218ef138b" kindref="member">size</ref>()<sp/>/<sp/>grp.<ref refid="classComm__Group_1a77f7c2af23e60af705eeaeac448dce5d" kindref="member">nproc</ref>()<sp/>*<sp/>(int)</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(T);</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classTRUSTTab" kindref="compound">TRUSTTab&lt;T&gt;</ref><sp/>tmp(src);</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>grp.<ref refid="classComm__Group_1af66f5948dfe5c2299581688d0c514c2e" kindref="member">gather</ref>(src.<ref refid="classTRUSTArray_1a62f5eeb66939850d54464bb1e9c34d3d" kindref="member">addr</ref>(),<sp/>tmp.addr(),<sp/>sz,<sp/>root);</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>dest<sp/>=<sp/>tmp;</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>sz<sp/>=<sp/>src.<ref refid="classTRUSTVect_1a0a3b16fb39def99371b91ec218ef138b" kindref="member">size</ref>()<sp/>*<sp/>(int)</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(T);</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>assert(<sp/>dest.<ref refid="classTRUSTArray_1a48b5aa02624ffdc0bad44ca38ddd1a1c" kindref="member">size_array</ref>()<sp/>==<sp/>grp.<ref refid="classComm__Group_1a77f7c2af23e60af705eeaeac448dce5d" kindref="member">nproc</ref>()*src.<ref refid="classTRUSTArray_1a48b5aa02624ffdc0bad44ca38ddd1a1c" kindref="member">size_array</ref>());</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>grp.<ref refid="classComm__Group_1af66f5948dfe5c2299581688d0c514c2e" kindref="member">gather</ref>(src.<ref refid="classTRUSTArray_1a62f5eeb66939850d54464bb1e9c34d3d" kindref="member">addr</ref>(),<sp/>dest.<ref refid="classTRUSTArray_1a62f5eeb66939850d54464bb1e9c34d3d" kindref="member">addr</ref>(),<sp/>sz,<sp/>root);</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="357"><highlight class="normal">}</highlight></codeline>
<codeline lineno="358"><highlight class="normal"></highlight></codeline>
<codeline lineno="359"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>envoyer_gather(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classTRUSTTab" kindref="compound">DoubleTab</ref>&amp;<sp/>src,<sp/><ref refid="classTRUSTTab" kindref="compound">DoubleTab</ref>&amp;<sp/>dest,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>root)</highlight></codeline>
<codeline lineno="360"><highlight class="normal">{</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/>envoyer_gather_(src,dest,root);</highlight></codeline>
<codeline lineno="362"><highlight class="normal">}</highlight></codeline>
<codeline lineno="363"><highlight class="normal"></highlight></codeline>
<codeline lineno="364"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>envoyer_gather(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classTRUSTTab" kindref="compound">IntTab</ref>&amp;<sp/>src,<sp/><ref refid="classTRUSTTab" kindref="compound">IntTab</ref>&amp;<sp/>dest,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>root)</highlight></codeline>
<codeline lineno="365"><highlight class="normal">{</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/>envoyer_gather_(src,dest,root);</highlight></codeline>
<codeline lineno="367"><highlight class="normal">}</highlight></codeline>
<codeline lineno="368"><highlight class="normal"></highlight></codeline>
<codeline lineno="369"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>envoyer_all_gather(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classTRUSTTab" kindref="compound">DoubleTab</ref>&amp;<sp/>src,<sp/><ref refid="classTRUSTTab" kindref="compound">DoubleTab</ref>&amp;<sp/>dest)</highlight></codeline>
<codeline lineno="370"><highlight class="normal">{</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/>envoyer_all_gather_(src,dest);</highlight></codeline>
<codeline lineno="372"><highlight class="normal">}</highlight></codeline>
<codeline lineno="373"><highlight class="normal"></highlight></codeline>
<codeline lineno="374"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>envoyer_all_gather(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classTRUSTTab" kindref="compound">IntTab</ref>&amp;<sp/>src,<sp/><ref refid="classTRUSTTab" kindref="compound">IntTab</ref>&amp;<sp/>dest)</highlight></codeline>
<codeline lineno="375"><highlight class="normal">{</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/>envoyer_all_gather_(src,dest);</highlight></codeline>
<codeline lineno="377"><highlight class="normal">}</highlight></codeline>
<codeline lineno="378"><highlight class="normal"></highlight></codeline>
<codeline lineno="379"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>envoyer_all_gatherv(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classTRUSTTab" kindref="compound">DoubleTab</ref>&amp;<sp/>src,<sp/><ref refid="classTRUSTTab" kindref="compound">DoubleTab</ref>&amp;<sp/>dest,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classTRUSTTab" kindref="compound">IntTab</ref>&amp;<sp/>recv_size)</highlight></codeline>
<codeline lineno="380"><highlight class="normal">{</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classComm__Group" kindref="compound">Comm_Group</ref>&amp;<sp/>grp<sp/>=<sp/><ref refid="classPE__Groups_1ae6ca0277a58f2ab34ebfb3216578fa75" kindref="member">PE_Groups::current_group</ref>();</highlight></codeline>
<codeline lineno="382"><highlight class="normal"></highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/>assert(dest.<ref refid="classTRUSTArray_1a48b5aa02624ffdc0bad44ca38ddd1a1c" kindref="member">size_array</ref>()==local_somme_vect(recv_size));</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/>assert(src.<ref refid="classTRUSTArray_1a48b5aa02624ffdc0bad44ca38ddd1a1c" kindref="member">size_array</ref>()==recv_size[grp.<ref refid="classProcess_1ab55ba07167ec807ed3a145cac0f5dca4" kindref="member">me</ref>()]);</highlight></codeline>
<codeline lineno="385"><highlight class="normal"></highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>True_int<sp/>nbprocs<sp/>=<sp/>(True_int)grp.<ref refid="classComm__Group_1a77f7c2af23e60af705eeaeac448dce5d" kindref="member">nproc</ref>();</highlight></codeline>
<codeline lineno="387"><highlight class="normal"></highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/>std::vector&lt;True_int&gt;<sp/>sz(nbprocs);</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(True_int<sp/>p=0;<sp/>p&lt;nbprocs;<sp/>p++)</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/>sz[p]<sp/>=<sp/>recv_size[p]<sp/>*<sp/>(True_int)</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(double);</highlight></codeline>
<codeline lineno="391"><highlight class="normal"></highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/>True_int<sp/>sz0<sp/>=<sp/><sp/>src.<ref refid="classTRUSTVect_1a0a3b16fb39def99371b91ec218ef138b" kindref="member">size</ref>()<sp/>*<sp/>(True_int)</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="393"><highlight class="normal"></highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/>std::vector&lt;True_int&gt;<sp/>displs(nbprocs);</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/>displs[0]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(True_int<sp/>p=1;<sp/>p&lt;nbprocs;<sp/>p++)</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/>displs[p]<sp/>=<sp/>displs[p-1]+sz[p-1];</highlight></codeline>
<codeline lineno="398"><highlight class="normal"></highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/>grp.<ref refid="classComm__Group_1ae5f2a337e326bba1bad3967e97ba9d33" kindref="member">all_gatherv</ref>(src.<ref refid="classTRUSTArray_1a62f5eeb66939850d54464bb1e9c34d3d" kindref="member">addr</ref>(),<sp/>dest.<ref refid="classTRUSTArray_1a62f5eeb66939850d54464bb1e9c34d3d" kindref="member">addr</ref>(),<sp/>sz0<sp/>,<sp/>sz.data(),displs.data());</highlight></codeline>
<codeline lineno="400"><highlight class="normal">}</highlight></codeline>
<codeline lineno="401"><highlight class="normal"></highlight></codeline>
<codeline lineno="402"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="403"><highlight class="comment">/*!<sp/>@brief<sp/>renvoie<sp/>le<sp/>drapeau<sp/>Comm_Group::check_enabled().</highlight></codeline>
<codeline lineno="404"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="405"><highlight class="comment"><sp/>*<sp/>Ce<sp/>drapeau<sp/>indique<sp/>si<sp/>le<sp/>code<sp/>tourne<sp/>en<sp/>mode<sp/>DEBUG<sp/>du<sp/>parallele.<sp/>Dans<sp/>ce<sp/>cas,<sp/>des<sp/>communications<sp/>supplementaires<sp/>ont<sp/>lieu<sp/>pour<sp/>verifier<sp/>la<sp/>coherence<sp/>du<sp/>parallelisme<sp/>et<sp/>le<sp/>mode<sp/>de<sp/>communication</highlight></codeline>
<codeline lineno="406"><highlight class="comment"><sp/>*<sp/><sp/><sp/>est<sp/>force<sp/>en<sp/>mode<sp/>synchrone.<sp/>Cette<sp/>methode<sp/>permet<sp/>de<sp/>tester<sp/>le<sp/>drapeau,<sp/>et<sp/>s&apos;il<sp/>est<sp/>mis<sp/>de<sp/>realiser<sp/>des<sp/>verifications<sp/>supplementaires</highlight></codeline>
<codeline lineno="407"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="408"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="409"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>comm_check_enabled()<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1a0f230fe65c9f52fd2a168a1ea70e7b15" kindref="member">Comm_Group::check_enabled</ref>();<sp/>}</highlight></codeline>
<codeline lineno="410"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="411"><highlight class="comment">/*!<sp/>@brief<sp/>renvoie<sp/>1<sp/>(sur<sp/>tous<sp/>les<sp/>procs)<sp/>si<sp/>le<sp/>parametre<sp/>est<sp/>identique<sp/>sur<sp/>tous<sp/>les<sp/>procs,<sp/>sinon<sp/>renvoie<sp/>0<sp/>(sur<sp/>tous<sp/>les<sp/>procs)</highlight></codeline>
<codeline lineno="412"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="413"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="414"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>is_parallel_object(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>x)</highlight></codeline>
<codeline lineno="415"><highlight class="normal">{</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>x1<sp/>=<sp/><ref refid="classProcess_1a05de57db7288d95f9e67046af585d5ff" kindref="member">Process::mp_min</ref>(x);</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>x2<sp/>=<sp/><ref refid="classProcess_1a1e9d9f9899b71927cfafae14c7bd048d" kindref="member">Process::mp_max</ref>(x);</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>x1<sp/>==<sp/>x2;</highlight></codeline>
<codeline lineno="419"><highlight class="normal">}</highlight></codeline>
<codeline lineno="420"><highlight class="normal"></highlight></codeline>
<codeline lineno="421"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>INT_is_64_<sp/>==<sp/>2</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="422"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>is_parallel_object(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>trustIdType<sp/>x)</highlight></codeline>
<codeline lineno="423"><highlight class="normal">{</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>trustIdType<sp/>x1<sp/>=<sp/><ref refid="classProcess_1a05de57db7288d95f9e67046af585d5ff" kindref="member">Process::mp_min</ref>(x);</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>trustIdType<sp/>x2<sp/>=<sp/><ref refid="classProcess_1a1e9d9f9899b71927cfafae14c7bd048d" kindref="member">Process::mp_max</ref>(x);</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>x1<sp/>==<sp/>x2;</highlight></codeline>
<codeline lineno="427"><highlight class="normal">}</highlight></codeline>
<codeline lineno="428"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="429"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="430"><highlight class="comment">/*!<sp/>@brief<sp/>renvoie<sp/>1<sp/>(sur<sp/>tous<sp/>les<sp/>procs)<sp/>si<sp/>le<sp/>parametre<sp/>est<sp/>identique<sp/>sur<sp/>tous<sp/>les<sp/>procs,<sp/>sinon<sp/>renvoie<sp/>0<sp/>(sur<sp/>tous<sp/>les<sp/>procs)</highlight></codeline>
<codeline lineno="431"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="432"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="433"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>is_parallel_object(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>x)</highlight></codeline>
<codeline lineno="434"><highlight class="normal">{</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classComm__Group" kindref="compound">Comm_Group</ref>&amp;<sp/>grp<sp/>=<sp/><ref refid="classPE__Groups_1ae6ca0277a58f2ab34ebfb3216578fa75" kindref="member">PE_Groups::current_group</ref>();</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>tab_x[2];</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/>tab_x[0]<sp/>=<sp/>x;</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/>tab_x[1]<sp/>=<sp/>x;</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>tab_y[2];</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><ref refid="classComm__Group_1a16a3e8b4b57b4ac0ee1d237b4a7e302c" kindref="member">Comm_Group::Collective_Op</ref><sp/>tab_op[]<sp/>=<sp/>{<sp/><ref refid="classComm__Group_1a16a3e8b4b57b4ac0ee1d237b4a7e302cac56938ec8d65390f71357f084c9be49f" kindref="member">Comm_Group::COLL_MIN</ref>,<sp/><ref refid="classComm__Group_1a16a3e8b4b57b4ac0ee1d237b4a7e302ca97e266ea06542559109eef5e5d642b86" kindref="member">Comm_Group::COLL_MAX</ref><sp/>};</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/>grp.<ref refid="classComm__Group_1abe4ac5fc38da03874333ddf9f4af5fa7" kindref="member">mp_collective_op</ref>(tab_x,<sp/>tab_y,<sp/>tab_op,<sp/>2);</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>tab_y[0]<sp/>==<sp/>tab_y[1];</highlight></codeline>
<codeline lineno="443"><highlight class="normal">}</highlight></codeline>
<codeline lineno="444"><highlight class="normal"></highlight></codeline>
<codeline lineno="445"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">class</highlight><highlight class="normal"><sp/>T&gt;<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>compare(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classObjet__U" kindref="compound">Objet_U</ref>&amp;<sp/>a,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classObjet__U" kindref="compound">Objet_U</ref>&amp;<sp/>b,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">&amp;<sp/>erreur)</highlight></codeline>
<codeline lineno="446"><highlight class="normal">{</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(sub_type(T,<sp/>a))</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>T&amp;<sp/>a_<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal">T&amp;</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal"><sp/>(a);</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>T&amp;<sp/>b_<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal">T&amp;</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal"><sp/>(b);</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<sp/>(a_<sp/>==<sp/>b_))</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>erreur<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>1;</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="459"><highlight class="normal">}</highlight></codeline>
<codeline lineno="460"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="461"><highlight class="comment">/*!<sp/>@brief<sp/>renvoie<sp/>1<sp/>(sur<sp/>tous<sp/>les<sp/>procs)<sp/>si<sp/>le<sp/>parametre<sp/>est<sp/>identique<sp/>sur<sp/>tous<sp/>les<sp/>procs,<sp/>sinon<sp/>renvoie<sp/>0<sp/>(sur<sp/>tous<sp/>les<sp/>procs)</highlight></codeline>
<codeline lineno="462"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="463"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="464"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>is_parallel_object(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classObjet__U" kindref="compound">Objet_U</ref>&amp;<sp/>obj)</highlight></codeline>
<codeline lineno="465"><highlight class="normal">{</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>erreur<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classProcess_1acd052b99706c577f8a5b6656217cf4c2" kindref="member">Process::je_suis_maitre</ref>())</highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classTRUST__Deriv__Objet__U" kindref="compound">DerObjU</ref><sp/>copie;</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n<sp/>=<sp/><ref refid="classProcess_1a6bf692ce58d9578aa62ac3c07b8caaa1" kindref="member">Process::nproc</ref>();</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>1;<sp/>i<sp/>&lt;<sp/>n;<sp/>i++)</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>recevoir(copie,<sp/>i,<sp/>67<sp/></highlight><highlight class="comment">/*<sp/>tag<sp/>*/</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(erreur)</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;<sp/></highlight><highlight class="comment">//<sp/>On<sp/>a<sp/>deja<sp/>trouve<sp/>une<sp/>erreur,<sp/>on<sp/>recoit<sp/>les<sp/>autres<sp/>messages<sp/>mais<sp/>c&apos;est<sp/>tout...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classObjet__U" kindref="compound">Objet_U</ref>&amp;<sp/>obj2<sp/>=<sp/>copie.<ref refid="classTRUST__Deriv__Objet__U_1ab3aa3354ba857a7fcf8c341d94b67715" kindref="member">valeur</ref>();</highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(obj2.<ref refid="classObjet__U_1a58289bb63283588d31dc69b87b3f1d55" kindref="member">que_suis_je</ref>()<sp/>!=<sp/>obj.<ref refid="classObjet__U_1a58289bb63283588d31dc69b87b3f1d55" kindref="member">que_suis_je</ref>())</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>erreur<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>L&apos;operateur<sp/>==<sp/>n&apos;est<sp/>pas<sp/>virtuel,<sp/>on<sp/>ne<sp/>peut<sp/>pas<sp/>se<sp/>contenter<sp/>de<sp/>comparer<sp/>avec<sp/>==.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Il<sp/>faut<sp/>appeler<sp/>==<sp/>pour<sp/>le<sp/>sous-type<sp/>specifique<sp/>de<sp/>l&apos;objet.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>L&apos;ordre<sp/>est<sp/>important:<sp/>d&apos;abord<sp/>le<sp/>type<sp/>le<sp/>plus<sp/>derive,<sp/>puis<sp/>sa<sp/>classe<sp/>de<sp/>base.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(compare&lt;IntTab&gt;<sp/>(obj,<sp/>obj2,<sp/>erreur))<sp/>{<sp/></highlight><highlight class="comment">/*<sp/>Do<sp/>nothing<sp/>*/</highlight><highlight class="normal"><sp/>}</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(compare&lt;DoubleTab&gt;<sp/>(obj,<sp/>obj2,<sp/>erreur))<sp/>{<sp/></highlight><highlight class="comment">/*<sp/>Do<sp/>nothing<sp/>*/</highlight><highlight class="normal"><sp/>}</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(compare&lt;IntVect&gt;<sp/>(obj,<sp/>obj2,<sp/>erreur))<sp/>{<sp/></highlight><highlight class="comment">/*<sp/>Do<sp/>nothing<sp/>*/</highlight><highlight class="normal"><sp/>}</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(compare&lt;DoubleVect&gt;<sp/>(obj,<sp/>obj2,<sp/>erreur))<sp/>{<sp/></highlight><highlight class="comment">/*<sp/>Do<sp/>nothing<sp/>*/</highlight><highlight class="normal"><sp/>}</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(compare&lt;ArrOfInt&gt;<sp/>(obj,<sp/>obj2,<sp/>erreur))<sp/>{<sp/></highlight><highlight class="comment">/*<sp/>Do<sp/>nothing<sp/>*/</highlight><highlight class="normal"><sp/>}</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(compare&lt;ArrOfDouble&gt;<sp/>(obj,<sp/>obj2,<sp/>erreur))<sp/>{<sp/></highlight><highlight class="comment">/*<sp/>Do<sp/>nothing<sp/>*/</highlight><highlight class="normal"><sp/>}</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(compare&lt;Motcle&gt;<sp/>(obj,<sp/>obj2,<sp/>erreur))<sp/>{<sp/></highlight><highlight class="comment">/*<sp/>Do<sp/>nothing<sp/>*/</highlight><highlight class="normal"><sp/>}</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(compare&lt;Nom&gt;<sp/>(obj,<sp/>obj2,<sp/>erreur))<sp/>{<sp/></highlight><highlight class="comment">/*<sp/>Do<sp/>nothing<sp/>*/</highlight><highlight class="normal"><sp/>}</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cerr<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Internal<sp/>error<sp/>in<sp/>is_parallel_objec()<sp/>:<sp/>it<sp/>is<sp/>not<sp/>coded<sp/>for<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>obj.<ref refid="classObjet__U_1a58289bb63283588d31dc69b87b3f1d55" kindref="member">que_suis_je</ref>()<sp/>&lt;&lt;<sp/>finl;</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classProcess_1acc2fbbe761e08e5870ae605c0705491c" kindref="member">Process::exit</ref>();</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>On<sp/>envoie<sp/>un<sp/>objet<sp/>de<sp/>type<sp/>OWN_PTR..</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classTRUST__Deriv__Objet__U" kindref="compound">DerObjU</ref><sp/>copie(obj);</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>envoyer(copie,<sp/>0,<sp/>67<sp/></highlight><highlight class="comment">/*<sp/>tag<sp/>*/</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="508"><highlight class="normal"></highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/>envoyer_broadcast(erreur,<sp/>0<sp/></highlight><highlight class="comment">/*<sp/>pe<sp/>source<sp/>*/</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>!erreur;</highlight></codeline>
<codeline lineno="511"><highlight class="normal">}</highlight></codeline>
<codeline lineno="512"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="513"><highlight class="comment">/*!<sp/>@brief<sp/>en<sp/>mode<sp/>comm_check_enabled(),<sp/>verifie<sp/>que<sp/>le<sp/>parametre<sp/>a<sp/>la<sp/>meme<sp/>valeur<sp/>sur<sp/>tous<sp/>les<sp/>processeurs.</highlight></codeline>
<codeline lineno="514"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="515"><highlight class="comment"><sp/>*<sp/>Ne<sp/>fonctionne<sp/>pas<sp/>pour<sp/>tous<sp/>les<sp/>types<sp/>!<sp/>Pour<sp/>l&apos;instant<sp/>ok<sp/>pour<sp/>Noms,<sp/>Motcles<sp/>et<sp/>tableaux.</highlight></codeline>
<codeline lineno="516"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="517"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="518"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>assert_parallel(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classObjet__U" kindref="compound">Objet_U</ref>&amp;<sp/>obj)</highlight></codeline>
<codeline lineno="519"><highlight class="normal">{</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="classComm__Group_1a0f230fe65c9f52fd2a168a1ea70e7b15" kindref="member">Comm_Group::check_enabled</ref>())</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="522"><highlight class="normal"></highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!is_parallel_object(obj))</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>Cerr<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Fatal<sp/>error<sp/>in<sp/>assert_parallel(const<sp/>Objet_U<sp/>&amp;<sp/>obj):<sp/>objects<sp/>do<sp/>not<sp/>match,<sp/>see<sp/>log<sp/>files&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>finl;</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classProcess_1a57e0f54b11e6eaadbea224fa904b18dd" kindref="member">Process::Journal</ref>()<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Error<sp/>in<sp/>assert_parallel(const<sp/>Objet_U<sp/>&amp;<sp/>obj)&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;This<sp/>processor<sp/>has<sp/>this<sp/>object<sp/>:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>obj.<ref refid="classObjet__U_1a58289bb63283588d31dc69b87b3f1d55" kindref="member">que_suis_je</ref>()<sp/>&lt;&lt;<sp/>finl</highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/>obj<sp/>&lt;&lt;<sp/>finl;</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classProcess_1aa9e74a5c06a68ea38298a08ea401e7b1" kindref="member">Process::barrier</ref>();</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classProcess_1acc2fbbe761e08e5870ae605c0705491c" kindref="member">Process::exit</ref>();</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="532"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/communications.cpp"/>
  </compounddef>
</doxygen>
