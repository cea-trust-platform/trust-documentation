<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.1" xml:lang="en-US">
  <compounddef id="Comm__Group_8h" kind="file" language="C++">
    <compoundname>Comm_Group.h</compoundname>
    <includes refid="TRUST__Deriv_8h" local="no">TRUST_Deriv.h</includes>
    <includes refid="TRUSTArray_8h" local="no">TRUSTArray.h</includes>
    <includes local="no">assert.h</includes>
    <includedby refid="Convert__ICoCoTrioField_8cpp" local="no">Convert_ICoCoTrioField.cpp</includedby>
    <includedby refid="IJK__communications_8cpp" local="no">IJK_communications.cpp</includedby>
    <includedby refid="Check__espace__virtuel_8h" local="no">Check_espace_virtuel.h</includedby>
    <includedby refid="Comm__Group_8cpp" local="no">Comm_Group.cpp</includedby>
    <includedby refid="Comm__Group__Noparallel_8h" local="no">Comm_Group_Noparallel.h</includedby>
    <includedby refid="communications__array_8h" local="no">communications_array.h</includedby>
    <includedby refid="EcrFicPartage_8cpp" local="no">EcrFicPartage.cpp</includedby>
    <includedby refid="My__Comm__Group_8cpp" local="no">My_Comm_Group.cpp</includedby>
    <includedby refid="PE__Groups_8cpp" local="no">PE_Groups.cpp</includedby>
    <includedby refid="PE__Groups_8h" local="no">PE_Groups.h</includedby>
    <includedby refid="Process_8cpp" local="no">Process.cpp</includedby>
    <includedby refid="Schema__Comm_8cpp" local="no">Schema_Comm.cpp</includedby>
    <includedby refid="Schema__Comm__Vecteurs_8cpp" local="no">Schema_Comm_Vecteurs.cpp</includedby>
    <includedby refid="mon__main_8h" local="no">mon_main.h</includedby>
    <incdepgraph>
      <node id="2">
        <label>assert.h</label>
      </node>
      <node id="1">
        <label>Comm_Group.h</label>
        <link refid="Comm__Group_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <innerclass refid="classComm__Group" prot="public">Comm_Group</innerclass>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/****************************************************************************</highlight></codeline>
<codeline lineno="2"><highlight class="comment">*<sp/>Copyright<sp/>(c)<sp/>2024,<sp/>CEA</highlight></codeline>
<codeline lineno="3"><highlight class="comment">*<sp/>All<sp/>rights<sp/>reserved.</highlight></codeline>
<codeline lineno="4"><highlight class="comment">*</highlight></codeline>
<codeline lineno="5"><highlight class="comment">*<sp/>Redistribution<sp/>and<sp/>use<sp/>in<sp/>source<sp/>and<sp/>binary<sp/>forms,<sp/>with<sp/>or<sp/>without<sp/>modification,<sp/>are<sp/>permitted<sp/>provided<sp/>that<sp/>the<sp/>following<sp/>conditions<sp/>are<sp/>met:</highlight></codeline>
<codeline lineno="6"><highlight class="comment">*<sp/>1.<sp/>Redistributions<sp/>of<sp/>source<sp/>code<sp/>must<sp/>retain<sp/>the<sp/>above<sp/>copyright<sp/>notice,<sp/>this<sp/>list<sp/>of<sp/>conditions<sp/>and<sp/>the<sp/>following<sp/>disclaimer.</highlight></codeline>
<codeline lineno="7"><highlight class="comment">*<sp/>2.<sp/>Redistributions<sp/>in<sp/>binary<sp/>form<sp/>must<sp/>reproduce<sp/>the<sp/>above<sp/>copyright<sp/>notice,<sp/>this<sp/>list<sp/>of<sp/>conditions<sp/>and<sp/>the<sp/>following<sp/>disclaimer<sp/>in<sp/>the<sp/>documentation<sp/>and/or<sp/>other<sp/>materials<sp/>provided<sp/>with<sp/>the<sp/>distribution.</highlight></codeline>
<codeline lineno="8"><highlight class="comment">*<sp/>3.<sp/>Neither<sp/>the<sp/>name<sp/>of<sp/>the<sp/>copyright<sp/>holder<sp/>nor<sp/>the<sp/>names<sp/>of<sp/>its<sp/>contributors<sp/>may<sp/>be<sp/>used<sp/>to<sp/>endorse<sp/>or<sp/>promote<sp/>products<sp/>derived<sp/>from<sp/>this<sp/>software<sp/>without<sp/>specific<sp/>prior<sp/>written<sp/>permission.</highlight></codeline>
<codeline lineno="9"><highlight class="comment">*</highlight></codeline>
<codeline lineno="10"><highlight class="comment">*<sp/>THIS<sp/>SOFTWARE<sp/>IS<sp/>PROVIDED<sp/>BY<sp/>THE<sp/>COPYRIGHT<sp/>HOLDERS<sp/>AND<sp/>CONTRIBUTORS<sp/>&quot;AS<sp/>IS&quot;<sp/>AND<sp/>ANY<sp/>EXPRESS<sp/>OR<sp/>IMPLIED<sp/>WARRANTIES,<sp/>INCLUDING,<sp/>BUT<sp/>NOT<sp/>LIMITED<sp/>TO,<sp/>THE<sp/>IMPLIED<sp/>WARRANTIES<sp/>OF<sp/>MERCHANTABILITY<sp/>AND<sp/>FITNESS<sp/>FOR<sp/>A<sp/>PARTICULAR<sp/>PURPOSE<sp/>ARE<sp/>DISCLAIMED.</highlight></codeline>
<codeline lineno="11"><highlight class="comment">*<sp/>IN<sp/>NO<sp/>EVENT<sp/>SHALL<sp/>THE<sp/>COPYRIGHT<sp/>HOLDER<sp/>OR<sp/>CONTRIBUTORS<sp/>BE<sp/>LIABLE<sp/>FOR<sp/>ANY<sp/>DIRECT,<sp/>INDIRECT,<sp/>INCIDENTAL,<sp/>SPECIAL,<sp/>EXEMPLARY,<sp/>OR<sp/>CONSEQUENTIAL<sp/>DAMAGES<sp/>(INCLUDING,<sp/>BUT<sp/>NOT<sp/>LIMITED<sp/>TO,<sp/>PROCUREMENT<sp/>OF<sp/>SUBSTITUTE<sp/>GOODS<sp/>OR<sp/>SERVICES;<sp/>LOSS<sp/>OF<sp/>USE,<sp/>DATA,<sp/>OR<sp/>PROFITS;</highlight></codeline>
<codeline lineno="12"><highlight class="comment">*<sp/>OR<sp/>BUSINESS<sp/>INTERRUPTION)<sp/>HOWEVER<sp/>CAUSED<sp/>AND<sp/>ON<sp/>ANY<sp/>THEORY<sp/>OF<sp/>LIABILITY,<sp/>WHETHER<sp/>IN<sp/>CONTRACT,<sp/>STRICT<sp/>LIABILITY,<sp/>OR<sp/>TORT<sp/>(INCLUDING<sp/>NEGLIGENCE<sp/>OR<sp/>OTHERWISE)<sp/>ARISING<sp/>IN<sp/>ANY<sp/>WAY<sp/>OUT<sp/>OF<sp/>THE<sp/>USE<sp/>OF<sp/>THIS<sp/>SOFTWARE,<sp/>EVEN<sp/>IF<sp/>ADVISED<sp/>OF<sp/>THE<sp/>POSSIBILITY<sp/>OF<sp/>SUCH<sp/>DAMAGE.</highlight></codeline>
<codeline lineno="13"><highlight class="comment">*</highlight></codeline>
<codeline lineno="14"><highlight class="comment">*****************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>Comm_Group_included</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>Comm_Group_included</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;TRUST_Deriv.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;TRUSTArray.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;assert.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="23"><highlight class="comment">/*!<sp/>@brief<sp/>:<sp/>Cette<sp/>classe<sp/>decrit<sp/>un<sp/>groupe<sp/>de<sp/>processeurs<sp/>sur<sp/>lesquels</highlight></codeline>
<codeline lineno="24"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="25"><highlight class="comment"><sp/>*<sp/><sp/><sp/>une<sp/>portion<sp/>de<sp/>code<sp/>s&apos;execute<sp/>simultanement.<sp/>Elle<sp/>fournit</highlight></codeline>
<codeline lineno="26"><highlight class="comment"><sp/>*<sp/><sp/><sp/>toutes<sp/>les<sp/>methodes<sp/>permettant<sp/>d&apos;echanger<sp/>des<sp/>donnees<sp/>entre</highlight></codeline>
<codeline lineno="27"><highlight class="comment"><sp/>*<sp/><sp/><sp/>les<sp/>processeurs<sp/>du<sp/>groupe<sp/>(mpsum,<sp/>send,<sp/>recv,<sp/>...),</highlight></codeline>
<codeline lineno="28"><highlight class="comment"><sp/>*<sp/><sp/><sp/>et<sp/>de<sp/>synchroniser<sp/>les<sp/>processeurs<sp/>(barrier).</highlight></codeline>
<codeline lineno="29"><highlight class="comment"><sp/>*<sp/><sp/><sp/>Elle<sp/>est<sp/>specialisee<sp/>selon<sp/>le<sp/>support<sp/>reseau<sp/>(MPI,<sp/>PVM,<sp/>...)</highlight></codeline>
<codeline lineno="30"><highlight class="comment"><sp/>*<sp/><sp/><sp/>Attention,<sp/>ces<sp/>methodes<sp/>sont<sp/>reservees<sp/>a<sp/>des<sp/>operations<sp/>de<sp/>bas<sp/>niveau</highlight></codeline>
<codeline lineno="31"><highlight class="comment"><sp/>*<sp/><sp/><sp/>(noyau<sp/>TRUST).</highlight></codeline>
<codeline lineno="32"><highlight class="comment"><sp/>*<sp/><sp/><sp/>Dans<sp/>le<sp/>code<sp/>courant,<sp/>il<sp/>faut<sp/>utiliser<sp/>les<sp/>methodes<sp/>classes<sp/>de<sp/>communications</highlight></codeline>
<codeline lineno="33"><highlight class="comment"><sp/>*<sp/><sp/><sp/>de<sp/>haut<sp/>niveau<sp/>:</highlight></codeline>
<codeline lineno="34"><highlight class="comment"><sp/>*<sp/><sp/><sp/>(envoyer(),<sp/>envoyer_broadcast(),<sp/>class<sp/>Schema_Comm,<sp/>class<sp/>Process,<sp/>etc)</highlight></codeline>
<codeline lineno="35"><highlight class="comment"><sp/>*<sp/><sp/><sp/>Pour<sp/>creer<sp/>un<sp/>nouveau<sp/>groupe<sp/>et<sp/>l&apos;utiliser,<sp/>voir<sp/>class<sp/>PE_Groups</highlight></codeline>
<codeline lineno="36"><highlight class="comment"><sp/>*<sp/><sp/><sp/>Pour<sp/>la<sp/>procedure<sp/>d&apos;initialisation,<sp/>voir<sp/>PE_Groups::Initialize()</highlight></codeline>
<codeline lineno="37"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="38"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39" refid="classComm__Group" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classComm__Group" kindref="compound">Comm_Group</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="classObjet__U" kindref="compound">Objet_U</ref></highlight></codeline>
<codeline lineno="40"><highlight class="normal">{</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/>Declare_base_sans_constructeur_ni_destructeur(<ref refid="classComm__Group" kindref="compound">Comm_Group</ref>);</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><ref refid="classComm__Group_1ac5149506484d9bb10c553a548092204d" kindref="member">Comm_Group</ref>();</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><ref refid="classComm__Group_1af9700490bb769fa0abb61f7aa98edb53" kindref="member">~Comm_Group</ref>()<sp/></highlight><highlight class="keyword">override</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="45" refid="classComm__Group_1a9eaa1dfaa2f51ddd7d72da0e7bc4f3d2" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><sp/><sp/><ref refid="classComm__Group_1a9eaa1dfaa2f51ddd7d72da0e7bc4f3d2" kindref="member">abort</ref>()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>COLL_SUM:<sp/>somme<sp/>sur<sp/>tous<sp/>les<sp/>procs</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>COLL_MIN:<sp/>minimum</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>COLL_MAX:<sp/>max</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>COLL_PARTIAL_SUM<sp/>calcule<sp/>la<sp/>somme<sp/>partielle<sp/>des<sp/>valeurs<sp/>sur<sp/>les<sp/>processeurs<sp/>de<sp/>rang</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>strictement<sp/>inferieurs<sp/>a<sp/>me()<sp/>(le<sp/>resultat<sp/>vaut<sp/>toujours<sp/>0<sp/>sur<sp/>le<sp/>processeur<sp/>0).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52" refid="classComm__Group_1a16a3e8b4b57b4ac0ee1d237b4a7e302ca97e266ea06542559109eef5e5d642b86" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">enum</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1a16a3e8b4b57b4ac0ee1d237b4a7e302c" kindref="member">Collective_Op</ref><sp/>{<sp/><ref refid="classComm__Group_1a16a3e8b4b57b4ac0ee1d237b4a7e302ca55879cc8c9d3898570abc1279177d330" kindref="member">COLL_SUM</ref>,<sp/><ref refid="classComm__Group_1a16a3e8b4b57b4ac0ee1d237b4a7e302cac56938ec8d65390f71357f084c9be49f" kindref="member">COLL_MIN</ref>,<sp/><ref refid="classComm__Group_1a16a3e8b4b57b4ac0ee1d237b4a7e302ca97e266ea06542559109eef5e5d642b86" kindref="member">COLL_MAX</ref>,<sp/><ref refid="classComm__Group_1a16a3e8b4b57b4ac0ee1d237b4a7e302ca31173cff9138da25f8a6f87612e14edb" kindref="member">COLL_PARTIAL_SUM</ref><sp/>};</highlight></codeline>
<codeline lineno="53" refid="classComm__Group_1abe4ac5fc38da03874333ddf9f4af5fa7" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1abe4ac5fc38da03874333ddf9f4af5fa7" kindref="member">mp_collective_op</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>*x,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>*resu,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n,<sp/><ref refid="classComm__Group_1a16a3e8b4b57b4ac0ee1d237b4a7e302c" kindref="member">Collective_Op</ref><sp/>op)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="54" refid="classComm__Group_1a24110f9bcab6d5493deef067687a4178" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1a24110f9bcab6d5493deef067687a4178" kindref="member">mp_collective_op</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>*x,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>*resu,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1a16a3e8b4b57b4ac0ee1d237b4a7e302c" kindref="member">Collective_Op</ref><sp/>*op,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="55" refid="classComm__Group_1aa388026db6eaaffe062906ff28697f8e" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1aa388026db6eaaffe062906ff28697f8e" kindref="member">mp_collective_op</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>*x,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>*resu,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n,<sp/><ref refid="classComm__Group_1a16a3e8b4b57b4ac0ee1d237b4a7e302c" kindref="member">Collective_Op</ref><sp/>op)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="56" refid="classComm__Group_1a9ec2968c07e4db43469be122355a42c8" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1a9ec2968c07e4db43469be122355a42c8" kindref="member">mp_collective_op</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>*x,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>*resu,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1a16a3e8b4b57b4ac0ee1d237b4a7e302c" kindref="member">Collective_Op</ref><sp/>*op,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="57" refid="classComm__Group_1ae1c73e9733f5afd620e097f53151608b" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1ae1c73e9733f5afd620e097f53151608b" kindref="member">mp_collective_op</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*x,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*resu,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n,<sp/><ref refid="classComm__Group_1a16a3e8b4b57b4ac0ee1d237b4a7e302c" kindref="member">Collective_Op</ref><sp/>op)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="58" refid="classComm__Group_1a7c316d7ac5c9672e67a1c98696f0cd67" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1a7c316d7ac5c9672e67a1c98696f0cd67" kindref="member">mp_collective_op</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*x,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*resu,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1a16a3e8b4b57b4ac0ee1d237b4a7e302c" kindref="member">Collective_Op</ref><sp/>*op,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>INT_is_64_<sp/>==<sp/>2</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1abe4ac5fc38da03874333ddf9f4af5fa7" kindref="member">mp_collective_op</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>trustIdType<sp/>*x,<sp/>trustIdType<sp/>*resu,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n,<sp/><ref refid="classComm__Group_1a16a3e8b4b57b4ac0ee1d237b4a7e302c" kindref="member">Collective_Op</ref><sp/>op)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1abe4ac5fc38da03874333ddf9f4af5fa7" kindref="member">mp_collective_op</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>trustIdType<sp/>*x,<sp/>trustIdType<sp/>*resu,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1a16a3e8b4b57b4ac0ee1d237b4a7e302c" kindref="member">Collective_Op</ref><sp/>*op,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight></codeline>
<codeline lineno="64" refid="classComm__Group_1ac20236e71fc50066d225761ba1349c69" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1ac20236e71fc50066d225761ba1349c69" kindref="member">barrier</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>tag)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Calcule<sp/>un<sp/>nouveau<sp/>tag<sp/>de<sp/>communication<sp/>qui<sp/>permet<sp/>d&apos;identifier<sp/>les</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>echanges<sp/>de<sp/>facon<sp/>unique<sp/>pour<sp/>l&apos;ensemble<sp/>des<sp/>groupes.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1afc0064494cd1d3091df02ee5b9294f8a" kindref="member">get_new_tag</ref>()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1a7fde70af91b6d994aacd10bb4e74aeb8" kindref="member">rank</ref>()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1a77f7c2af23e60af705eeaeac448dce5d" kindref="member">nproc</ref>()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Veut-on<sp/>faire<sp/>des<sp/>verifications<sp/>supplementaires<sp/>sur<sp/>les<sp/>communications<sp/>?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Ces<sp/>verifications<sp/>impliquent<sp/>des<sp/>communications<sp/>en<sp/>plus,<sp/>ce<sp/>qui<sp/>modifie</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>le<sp/>deroulement<sp/>du<sp/>programme.<sp/>C&apos;est<sp/>donc<sp/>un<sp/>mecanisme<sp/>separe<sp/>des<sp/>&quot;assert&quot;.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1a0f230fe65c9f52fd2a168a1ea70e7b15" kindref="member">check_enabled</ref>();</highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight></codeline>
<codeline lineno="78" refid="classComm__Group_1a93c4c5b0887e1fc63a123d11e7da0118a32d85484e767b15e135274275b2194ed" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">enum</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1a93c4c5b0887e1fc63a123d11e7da0118" kindref="member">TypeHint</ref><sp/>{<sp/><ref refid="classComm__Group_1a93c4c5b0887e1fc63a123d11e7da0118a32d85484e767b15e135274275b2194ed" kindref="member">CHAR</ref>,<sp/><ref refid="classComm__Group_1a93c4c5b0887e1fc63a123d11e7da0118ace1f14aca3731a4ba1a90890825dc33e" kindref="member">INT</ref>,<sp/><ref refid="classComm__Group_1a93c4c5b0887e1fc63a123d11e7da0118a3ecf92403be29069ab3826b1a3a6b1e4" kindref="member">DOUBLE</ref>,<sp/><ref refid="classComm__Group_1a93c4c5b0887e1fc63a123d11e7da0118a70c286b9a927bc7f8c2a3115ebc3326f" kindref="member">FLOAT</ref><sp/>};</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Demarre<sp/>l&apos;echange<sp/>des<sp/>buffers.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>send_list<sp/>/<sp/>recv_list<sp/>=<sp/>liste<sp/>de<sp/>PEs<sp/>(rangs<sp/>dans<sp/>le<sp/>groupe<sp/>courant)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>send_size<sp/>/<sp/>recv_size<sp/>=<sp/>taille<sp/>des<sp/>messages<sp/>en<sp/>bytes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>send_buffers<sp/>/<sp/>recv_buffers<sp/>=<sp/>adresse<sp/>des<sp/>buffers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Les<sp/>buffers<sp/>en<sp/>reception<sp/>doivent<sp/>avoir<sp/>une<sp/>taille<sp/>suffisante.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Note<sp/>au<sp/>sujet<sp/>des<sp/>const<sp/>:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>send_buffers<sp/>est<sp/>completement<sp/>const,<sp/>on<sp/>n&apos;a<sp/>le<sp/>droit<sp/>de<sp/>rien<sp/>modifier</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>recv_buffers<sp/>est<sp/>const,<sp/>recv_buffers[i]<sp/>est<sp/>const<sp/>mais<sp/>*(recv_buffers[i])</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n&apos;est<sp/>pas<sp/>const<sp/>car<sp/>on<sp/>y<sp/>stocke<sp/>les<sp/>donnees<sp/>recues.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88" refid="classComm__Group_1a7fb0eaad288afd68e88514f0ab9ee42d" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1a7fb0eaad288afd68e88514f0ab9ee42d" kindref="member">send_recv_start</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classTRUSTArray" kindref="compound">ArrOfInt</ref>&amp;<sp/>send_list,</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classTRUSTArray" kindref="compound">ArrOfInt</ref>&amp;<sp/>send_size,</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>*<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>send_buffers,</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classTRUSTArray" kindref="compound">ArrOfInt</ref>&amp;<sp/>recv_list,</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classTRUSTArray" kindref="compound">ArrOfInt</ref>&amp;<sp/>recv_size,</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>*<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>recv_buffers,</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classComm__Group_1a93c4c5b0887e1fc63a123d11e7da0118" kindref="member">TypeHint</ref><sp/>typehint<sp/>=<sp/><ref refid="classComm__Group_1a93c4c5b0887e1fc63a123d11e7da0118a32d85484e767b15e135274275b2194ed" kindref="member">CHAR</ref>)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Attend<sp/>que<sp/>les<sp/>communications<sp/>lancees<sp/>par<sp/>send_recv<sp/>soient<sp/>terminees.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="96" refid="classComm__Group_1a68bdde2db96498a1024cd1db4d371bcd" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1a68bdde2db96498a1024cd1db4d371bcd" kindref="member">send_recv_finish</ref>()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Methodes<sp/>d&apos;envoi<sp/>/<sp/>reception<sp/>blocantes:<sp/>a<sp/>chaque<sp/>send<sp/>doit<sp/>correpondre</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>simultanement<sp/>un<sp/>recv<sp/>sur<sp/>le<sp/>processeur<sp/>destination.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100" refid="classComm__Group_1a5489eba2c9ba6099899f96e2621131f6" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1a5489eba2c9ba6099899f96e2621131f6" kindref="member">send</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pe,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*buffer,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>size,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>tag)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>=<sp/>0;<sp/></highlight><highlight class="comment">//<sp/>Envoi<sp/>bloquant</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="101" refid="classComm__Group_1ae3622cd7a58e3dfeba7bf9496c298d0f" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1ae3622cd7a58e3dfeba7bf9496c298d0f" kindref="member">recv</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pe,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*buffer,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>size,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>tag)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>=<sp/>0;<sp/></highlight><highlight class="comment">//<sp/>Reception<sp/>bloquante</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Methodes<sp/>de<sp/>broadcast<sp/>:<sp/>a<sp/>appeler<sp/>sur<sp/>tous<sp/>les<sp/>processeurs<sp/>en<sp/>meme<sp/>temps</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="104" refid="classComm__Group_1a9e33e15e2e719843a0c42afc348f7a10" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1a9e33e15e2e719843a0c42afc348f7a10" kindref="member">broadcast</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*buffer,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>size,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pe_source)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Methodes<sp/>all_to_all</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="107" refid="classComm__Group_1abf4e41f7151bf25ea7a2591e31907cff" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1abf4e41f7151bf25ea7a2591e31907cff" kindref="member">all_to_all</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*src_buffer,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*dest_buffer,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>data_size)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="108" refid="classComm__Group_1a3545b811fa3903bb895a5363d36dfaff" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1a3545b811fa3903bb895a5363d36dfaff" kindref="member">all_gather</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*src_buffer,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*dest_buffer,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>data_size)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="109" refid="classComm__Group_1af66f5948dfe5c2299581688d0c514c2e" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1af66f5948dfe5c2299581688d0c514c2e" kindref="member">gather</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*src_buffer,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*dest_buffer,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>data_size,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>root)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="110" refid="classComm__Group_1ae5f2a337e326bba1bad3967e97ba9d33" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1ae5f2a337e326bba1bad3967e97ba9d33" kindref="member">all_gatherv</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*src_buffer,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*dest_buffer,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>send_size,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>True_int*<sp/>recv_size,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>True_int*<sp/>displs)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1a427088d5f9f00310c9bcc35c12ecc9fe" kindref="member">set_check_enabled</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>flag);</highlight></codeline>
<codeline lineno="113"><highlight class="normal"></highlight><highlight class="keyword">protected</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><ref refid="classComm__Group_1ac5149506484d9bb10c553a548092204d" kindref="member">Comm_Group</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classComm__Group" kindref="compound">Comm_Group</ref>&amp;);<sp/><sp/></highlight><highlight class="comment">//<sp/>interdit<sp/>!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classComm__Group" kindref="compound">Comm_Group</ref>&amp;<sp/><ref refid="classComm__Group_1a982687e21560748e4ef9107cce4ddda7" kindref="member">operator=</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classComm__Group" kindref="compound">Comm_Group</ref>&amp;);<sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>interdit<sp/>!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classComm__Group_1ad3853172658b85b4737846cc8ac72507" kindref="member">init_group</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classTRUSTArray" kindref="compound">ArrOfInt</ref>&amp;<sp/>pe_list);</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classComm__Group_1ac4b757e484868da8d218fc630feabe3c" kindref="member">init_group_node</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1a77f7c2af23e60af705eeaeac448dce5d" kindref="member">nproc</ref>,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>loc_rank,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>glob_rank);</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classComm__Group_1afa4f509e9e0103ab6969bc8553065d91" kindref="member">init_group_trio</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1a77f7c2af23e60af705eeaeac448dce5d" kindref="member">nproc</ref>,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1a7fde70af91b6d994aacd10bb4e74aeb8" kindref="member">rank</ref>);</highlight></codeline>
<codeline lineno="119" refid="classComm__Group_1a885c20c70797a6e4d34ecdd9948396f1" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">friend</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classPE__Groups" kindref="compound">PE_Groups</ref>;</highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>check_enabled_;</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>static_group_number_;</highlight></codeline>
<codeline lineno="124"><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Rang<sp/>du<sp/>processeur<sp/>local<sp/>dans<sp/>le<sp/>groupe,<sp/>-1<sp/>s&apos;il<sp/>n&apos;est<sp/>pas<sp/>dans<sp/>le<sp/>groupe</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>rank_<sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Nombre<sp/>de<sp/>processeurs<sp/>dans<sp/>le<sp/>groupe</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nproc_<sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Pour<sp/>chaque<sp/>pe<sp/>du<sp/>calcul<sp/>complet<sp/>(taille<sp/>du<sp/>tableau<sp/>=<sp/>groupe_TRUST().nproc())</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>indice<sp/>au<sp/>sein<sp/>du<sp/>groupe<sp/>si<sp/>le<sp/>pe<sp/>est<sp/>dedans,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>-1<sp/>si<sp/>le<sp/>pe<sp/>n&apos;est<sp/>pas<sp/>dans<sp/>le<sp/>groupe</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><ref refid="classTRUSTArray" kindref="compound">ArrOfInt</ref><sp/><sp/>local_ranks_;</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Liste<sp/>des<sp/>processeurs<sp/>du<sp/>groupes<sp/>(indices<sp/>des<sp/>processeurs<sp/>dans<sp/>groupe_TRUST())</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>(taille<sp/>du<sp/>tableau<sp/>=<sp/>nproc_)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><ref refid="classTRUSTArray" kindref="compound">ArrOfInt</ref><sp/><sp/>world_ranks_;</highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Mon<sp/>numero<sp/>de<sp/>groupe<sp/>(egal<sp/>au<sp/>static_group_number_<sp/>au<sp/>moment<sp/>de<sp/>la</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>creation<sp/>du<sp/>groupe).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>group_number_<sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>On<sp/>incremente<sp/>le<sp/>group_communication_tag_<sp/>de<sp/>cette<sp/>quantite<sp/>a<sp/>chaque</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>operation.<sp/>C&apos;est<sp/>un<sp/>nombre<sp/>premier,<sp/>ce<sp/>qui<sp/>permet<sp/>d&apos;avoir<sp/>des<sp/>tags</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>differents<sp/>pour<sp/>chaque<sp/>groupe<sp/>pendant<sp/>un<sp/>bon<sp/>bout<sp/>de<sp/>temps<sp/>(jusqu&apos;a<sp/>ce</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>que<sp/>le<sp/>numero<sp/>de<sp/>tag<sp/>depasse<sp/>MAXINT...)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>group_tag_increment_<sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>On<sp/>incremente<sp/>le<sp/>tag<sp/>a<sp/>chaque<sp/>operation,<sp/>ce<sp/>qui<sp/>permet<sp/>de<sp/>verifier<sp/>que<sp/>les<sp/>processus<sp/>sont<sp/>bien<sp/>synchronises.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">mutable</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>group_communication_tag_<sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="147"><highlight class="normal">};</highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight></codeline>
<codeline lineno="149" refid="classComm__Group_1a0f230fe65c9f52fd2a168a1ea70e7b15" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1a0f230fe65c9f52fd2a168a1ea70e7b15" kindref="member">Comm_Group::check_enabled</ref>()</highlight></codeline>
<codeline lineno="150"><highlight class="normal">{</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>check_enabled_;</highlight></codeline>
<codeline lineno="152"><highlight class="normal">}</highlight></codeline>
<codeline lineno="153"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="154"><highlight class="comment">/*!<sp/>@brief<sp/>Cette<sp/>fonction<sp/>renvoie<sp/>un<sp/>nouveau<sp/>tag<sp/>de<sp/>communication<sp/>pour<sp/>le<sp/>groupe.</highlight></codeline>
<codeline lineno="155"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="156"><highlight class="comment"><sp/>*<sp/>Effet<sp/>de<sp/>bord<sp/>:<sp/>incremente<sp/>le<sp/>membre<sp/>group_communication_tag_.</highlight></codeline>
<codeline lineno="157"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="158"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="159" refid="classComm__Group_1afc0064494cd1d3091df02ee5b9294f8a" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1afc0064494cd1d3091df02ee5b9294f8a" kindref="member">Comm_Group::get_new_tag</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="160"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>B.M.<sp/>Cette<sp/>fonctionnalite<sp/>est<sp/>finalement<sp/>tres<sp/>peu<sp/>utile<sp/>en<sp/>pratique</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>et<sp/>quand<sp/>le<sp/>compteur<sp/>depasse<sp/>une<sp/>limite<sp/>ca<sp/>plante<sp/>mpi.<sp/>Je<sp/>desactive:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//group_communication_tag_<sp/>+=<sp/>group_tag_increment_;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>group_communication_tag_;</highlight></codeline>
<codeline lineno="165"><highlight class="normal">}</highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="167"><highlight class="comment">/*!<sp/>@brief<sp/>Renvoie<sp/>le<sp/>rang<sp/>du<sp/>processeur<sp/>local<sp/>dans<sp/>le<sp/>groupe<sp/>*this.</highlight></codeline>
<codeline lineno="168"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="169"><highlight class="comment"><sp/>*<sp/>ou<sp/>-1<sp/>si<sp/>je<sp/>ne<sp/>suis<sp/>pas<sp/>dans<sp/>le<sp/>groupe.</highlight></codeline>
<codeline lineno="170"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="171"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="172" refid="classComm__Group_1a7fde70af91b6d994aacd10bb4e74aeb8" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1a7fde70af91b6d994aacd10bb4e74aeb8" kindref="member">Comm_Group::rank</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="173"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rank_;</highlight></codeline>
<codeline lineno="175"><highlight class="normal">}</highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="177"><highlight class="comment">/*!<sp/>@brief<sp/>Renvoie<sp/>le<sp/>nombre<sp/>de<sp/>processeurs<sp/>dans<sp/>le<sp/>groupe<sp/>*this</highlight></codeline>
<codeline lineno="178"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="179"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="180" refid="classComm__Group_1a77f7c2af23e60af705eeaeac448dce5d" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classComm__Group_1a77f7c2af23e60af705eeaeac448dce5d" kindref="member">Comm_Group::nproc</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="181"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/>assert(nproc_<sp/>&gt;=<sp/>0);</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>nproc_;</highlight></codeline>
<codeline lineno="184"><highlight class="normal">}</highlight></codeline>
<codeline lineno="185"><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
    </programlisting>
    <location file="/volatile/catA/gj277443/TRUST/sync-doc/src/Kernel/Utilitaires/Comm_Group.h"/>
  </compounddef>
</doxygen>
